{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/auth/login/login.component.ts","webpack:///src/app/auth/login/login.component.html","webpack:///src/app/auth/profile/profile.component.ts","webpack:///src/app/auth/profile/profile.component.html","webpack:///src/app/auth/register/register.component.ts","webpack:///src/app/auth/register/register.component.html","webpack:///src/app/auth/registration-request/registration-request.component.ts","webpack:///src/app/auth/registration-request/registration-request.component.html","webpack:///src/app/auth/shared/auth.service.ts","webpack:///src/app/auth/users/users.component.ts","webpack:///src/app/auth/users/users.component.html","webpack:///src/app/bill/bill.component.ts","webpack:///src/app/bill/bill.component.html","webpack:///src/app/bill/shared/bill.service.ts","webpack:///src/app/car/car.component.ts","webpack:///src/app/car/car.component.html","webpack:///src/app/car/cars/cars.component.ts","webpack:///src/app/car/cars/cars.component.html","webpack:///src/app/car/codebook/codebook.component.ts","webpack:///src/app/car/codebook/codebook.component.html","webpack:///src/app/car/codebook/shared/codebook.service.ts","webpack:///src/app/car/edit-car/edit-car.component.ts","webpack:///src/app/car/edit-car/edit-car.component.html","webpack:///src/app/car/new-car/new-car.component.ts","webpack:///src/app/car/new-car/new-car.component.html","webpack:///src/app/car/occupation/occupation.component.ts","webpack:///src/app/car/occupation/occupation.component.html","webpack:///src/app/car/shared/car.service.ts","webpack:///src/app/car/shared/occupation.service.ts","webpack:///src/app/car/statistics/statistics.component.ts","webpack:///src/app/car/statistics/statistics.component.html","webpack:///src/app/chat/chat.component.ts","webpack:///src/app/chat/chat.component.html","webpack:///src/app/chat/shared/chat.service.ts","webpack:///src/app/comment-and-grade/comment-and-grade.component.ts","webpack:///src/app/comment-and-grade/comment-and-grade.component.html","webpack:///src/app/comment/comment.component.ts","webpack:///src/app/comment/comment.component.html","webpack:///src/app/comment/shared/comment.service.ts","webpack:///src/app/comment/shared/grade.service.ts","webpack:///src/app/homepage/homepage-admin/homepage-admin.component.ts","webpack:///src/app/homepage/homepage-admin/homepage-admin.component.html","webpack:///src/app/homepage/homepage-unregistred/homepage-unregistred.component.ts","webpack:///src/app/homepage/homepage-unregistred/homepage-unregistred.component.html","webpack:///src/app/homepage/homepage-users/homepage-users.component.ts","webpack:///src/app/homepage/homepage-users/homepage-users.component.html","webpack:///src/app/http-interceptors/auth-interceptor.ts","webpack:///src/app/map/map.component.ts","webpack:///src/app/map/map.component.html","webpack:///src/app/price-list/price-list.component.ts","webpack:///src/app/price-list/price-list.component.html","webpack:///src/app/price-list/shared/pricelist.service.ts","webpack:///src/app/requests/received-requests/received-requests.component.ts","webpack:///src/app/requests/received-requests/received-requests.component.html","webpack:///src/app/requests/requests.component.ts","webpack:///src/app/requests/requests.component.html","webpack:///src/app/requests/shared/request.service.ts","webpack:///src/app/search/search.component.ts","webpack:///src/app/search/search.component.html","webpack:///src/app/search/shared/search.service.ts","webpack:///src/app/shopping-cart/shared/shopping.service.ts","webpack:///src/app/shopping-cart/shopping-cart.component.ts","webpack:///src/app/shopping-cart/shopping-cart.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","redirectTo","pathMatch","component","children","AppRoutingModule","forRoot","imports","AppComponent","selector","templateUrl","styleUrls","mapConfig","apikey","lang","AppModule","provide","useClass","multi","timeOut","preventDuplicates","resetTimeoutOnDuplicate","progressBar","enableHtml","declarations","providers","bootstrap","LoginComponent","formBuilder","authService","router","toastr","loginForm","group","username","password","userData","login","subscribe","data","localStorage","clear","setItem","accessToken","expiresIn","refreshToken","role","reset","navigate","success","error","info","onSubmit","ProfileComponent","_toastr","mode","getItem","getUser","user","editUser","RegisterComponent","registerForm","firstName","lastName","address","email","companyName","businessID","isAdmin","enabled","roles","numCanReq","flagPaid","push","register","RegistrationRequestComponent","getRegistrationRequests","users","approveRequest","alert","index","indexOf","splice","refuseRequest","console","log","AuthService","http","token","post","api","get","privilege","patch","providedIn","UsersComponent","getUsers","disableUser","refresh","deleteUser","disableEnableRent","enableUser","BillComponent","billService","bills","getBills","bill","payBill","BillService","CarComponent","carService","_location","commentService","route","sub","params","getOneAd","ad","fromDate","Date","toDate","getCommentsForCar","car","comments","comment","adId","approved","text","commentText","userUsername","carId","createCommentReply","status","back","CarsComponent","getCarsByUser","cars","err","relativeTo","parent","CodebookComponent","codebookService","marks","models","fuels","gearboxes","carclasses","edit","nameForm","name","typeForm","type","modelForm","markId","markForm","fuelForm","getData","getMarks","getModels","getFuels","getGearboxes","getCarClasses","value","changeMark","postNewMark","closebuttonMark","nativeElement","click","forEach","element","mark","changeModel","postNewModel","closebuttonModel","changeFuel","postNewFuel","closebuttonFuel","changeGearbox","postNewGearbox","closebuttonGearbox","changeCarclass","postNewCarclass","closebuttonCarclass","setControl","model","fuel","gearbox","carclass","deleteMark","deleteModel","deleteFuel","deleteGearbox","deleteCarclass","newNotEdit","nameSubmit","modelSubmit","fuelSubmit","gearboxSubmit","carclassSubmit","CodebookService","put","EditCarComponent","car_id","getCarById","average_grade","overallGrade","numberGrades","getCarGearboxes","getCarFuels","getCarCarClasses","carClasses","editCar","NewCarComponent","imageFiles","imageURLs","newCarForm","modelId","fuelId","gearboxId","carClassId","kilometrage","numberOfChildSeats","pickUpPlace","allowedKilometrage","priceListId","cdw","isAllowed","images","postNewAd","getCarModels","getCarMarks","getPriceLists","priceLists","selectedMark","event","target","files","filesAmount","length","i","reader","FileReader","onload","result","readAsDataURL","markChange","fileUpload","OccupationComponent","occupationService","selectedOccupation","dateFrom","dateTo","adsId","getOccupations","occupations","undefined","setOccupied","warning","create","CarService","userId","adDTO","carDTO","cdwAvailable","hasAndroid","carClass","OccupationService","occupied","StatisticsComponent","getStatistics","statistics","ChatComponent","chatService","chats","messageForm","getMessages","chat","companionId","companion","messages","mess","newMessage","sent","sendMessage","ChatService","message","CommentAndGradeComponent","gradeService","checkCommentFlag","selectedComment","getGradesForCar","selectedCar","grades","getCommentAndGrades","CommentComponent","getComments","acceptOrRefuse","CommentService","decision","GradeService","grade","HomepageAdminComponent","removeItem","logout","HomepageUnregistredComponent","HomepageUsersComponent","AuthInterceptor","auth","next","authToken","getToken","authReq","clone","headers","set","handle","request","MapComponent","ref","position","source","subscription","val","getPosition","detectChanges","unsubscribe","PriceListComponent","modalService","priceListService","priceList","perDay","discount","extraKilometrage","discountDays","getPriceListsUser","content","addModal","open","size","createPriceList","close","editPriceList","addPriceList","PricelistService","ReceivedRequestsComponent","requestService","textCommentReport","getRequests","getReceived","all","pending","paid","finished","bundleId","acceptRequest","acceptBundle","refuseBundle","myModalReport","newReport","ad_id","user_id","createReport","report","closeButton","RequestsComponent","currentRate","checkGradeFlag","userRole","cancelRequest","cancelBundle","date","today","inputDate","setHours","checkComment","checkGrade","myModal","textComment","createComment","createGrade","RequestService","reqId","SearchComponent","searchService","ads","sortSelected","count","search","kilometrageDrive","kilometrageFrom","kilometrageTo","priceFrom","priceTo","classes","getCities","cities","searchAds","page","pages","picture","getOneAdSearch","viewModal","scrollable","reqs","JSON","parse","pickUpDate","returnDate","toString","stringify","clearAdditional","sort","SearchService","ShoppingService","httpClient","cart","ShoppingCartComponent","shoppingService","requests","map","Map","bundles","r","adUserMap","has","key","bundleIt","createRentRequest","rentCars","bundle","rentRequest","toRemove","item","environment","production","bootstrapModule"],"mappings":"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;AAAqB,WAArB;;AAEA;;AACH;;AACH;;AACA;;AACG;;AACG;;AACG;;AACG;;AAAgB;;AAAC;;AACjB;;AAAgB;;AAAI;;AACpB;;AAAgB;;AAAI;;AACpB;;AAAgB;;AAAM;;AACzB;;AACH;;AACA;;AACG;;AAsBH;;AACH;;AACH;;AACH;;AACH;;AACA;;AACG;;AACG;;AACG;;AAKG;AAAA,mBAAS,IAAAA,UAAA,EAAT;AAAqB,WAArB;;AAEA;;AACH;;AACH;;AACA;;AACG;;AACG;;AACG;;AACG;;AAAgB;;AAAC;;AACjB;;AAAgB;;AAAS;;AACzB;;AAAgB;;AAAI;;AACpB;;AAAgB;;AAAI;;AACpB;;AAAgB;;AAAM;;AACzB;;AACH;;AACA;;AACG;;AAuBH;;AACH;;AACH;;AACH;;AACH;;AACA;;AACG;;AACG;;AACG;;AAKG;AAAA,mBAAS,IAAAA,UAAA,EAAT;AAAqB,WAArB;;AAEA;;AACH;;AACH;;AACA;;AACG;;AACG;;AACG;;AACG;;AAAgB;;AAAC;;AACjB;;AAAgB;;AAAI;;AACpB;;AAAgB;;AAAI;;AACpB;;AAAgB;;AAAM;;AACzB;;AACH;;AACA;;AACG;;AAsBH;;AACH;;AACH;;AACH;;AACH;;AACA;;AACG;;AACG;;AACG;;AAKG;AAAA,mBAAS,IAAAA,UAAA,EAAT;AAAqB,WAArB;;AAEA;;AACH;;AACH;;AACA;;AACG;;AACG;;AACG;;AACG;;AAAgB;;AAAC;;AACjB;;AAAgB;;AAAI;;AACpB;;AAAgB;;AAAI;;AACpB;;AAAgB;;AAAM;;AACzB;;AACH;;AACA;;AACG;;AAsBH;;AACH;;AACH;;AACH;;AACH;;AACA;;AACG;;AACG;;AACG;;AAKG;AAAA,mBAAS,IAAAA,UAAA,EAAT;AAAqB,WAArB;;AAEA;;AACH;;AACH;;AACA;;AACG;;AACG;;AACG;;AACG;;AAAgB;;AAAC;;AACjB;;AAAgB;;AAAI;;AACpB;;AAAgB;;AAAI;;AACpB;;AAAgB;;AAAM;;AACzB;;AACH;;AACA;;AACG;;AAsBH;;AACH;;AACH;;AACH;;AACH;;AACH;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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { LoginComponent } from './auth/login/login.component';\r\nimport { RegisterComponent } from './auth/register/register.component';\r\nimport { ChatComponent } from './chat/chat.component';\r\nimport { RequestsComponent } from \"./requests/requests.component\";\r\nimport { NewCarComponent } from \"./car/new-car/new-car.component\";\r\nimport { CarComponent } from \"./car/car.component\";\r\nimport { CommentComponent } from './comment/comment.component';\r\nimport { OccupationComponent } from './car/occupation/occupation.component';\r\nimport { StatisticsComponent } from './car/statistics/statistics.component';\r\nimport { HomepageUsersComponent } from './homepage/homepage-users/homepage-users.component';\r\nimport { HomepageAdminComponent } from './homepage/homepage-admin/homepage-admin.component';\r\nimport { HomepageUnregistredComponent } from './homepage/homepage-unregistred/homepage-unregistred.component';\r\nimport { SearchComponent } from './search/search.component';\r\nimport { UsersComponent } from './auth/users/users.component';\r\nimport { CommentAndGradeComponent } from './comment-and-grade/comment-and-grade.component';\r\nimport { PriceListComponent } from './price-list/price-list.component';\r\nimport { ProfileComponent } from './auth/profile/profile.component';\r\nimport { BillComponent } from './bill/bill.component';\r\nimport { ShoppingCartComponent } from './shopping-cart/shopping-cart.component';\r\nimport { RegistrationRequestComponent } from './auth/registration-request/registration-request.component';\r\nimport { ReceivedRequestsComponent } from './requests/received-requests/received-requests.component';\r\nimport { MapComponent } from './map/map.component';\r\nimport { CodebookComponent } from './car/codebook/codebook.component';\r\nimport { CarsComponent } from './car/cars/cars.component';\r\nimport { EditCarComponent } from './car/edit-car/edit-car.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  { path: '', redirectTo: 'unregistredHomepage', pathMatch: 'full' },\r\n  {\r\n    path: 'unregistredHomepage', component: HomepageUnregistredComponent,\r\n    children: [\r\n      { path: '', redirectTo: 'search', pathMatch: 'full' },\r\n      { path: 'login', component: LoginComponent },\r\n      { path: 'car/:id', component: CarComponent },\r\n      { path: 'map', component: MapComponent },\r\n      { path: 'register', component: RegisterComponent },\r\n      { path: 'search', component: SearchComponent }\r\n    ]\r\n  },\r\n  {\r\n    path: 'usersHomepage', component: HomepageUsersComponent,\r\n    children: [\r\n      { path: '', redirectTo: 'chat', pathMatch: 'full' },\r\n      { path: 'chat', component: ChatComponent },\r\n      { path: 'search', component: SearchComponent },\r\n      { path: 'requests', component: RequestsComponent },\r\n      { path: 'priceList', component: PriceListComponent },\r\n      { path: 'received-requests', component: ReceivedRequestsComponent },\r\n      { path: 'profile', component: ProfileComponent },\r\n      { path: 'bill', component: BillComponent },\r\n      { path: 'car/:id', component: CarComponent },\r\n      { path: 'new-car', component: NewCarComponent },\r\n      { path: 'statistics', component: StatisticsComponent },\r\n      { path: 'commentsAndGrades', component: CommentAndGradeComponent },\r\n      { path: 'occupation', component: OccupationComponent },\r\n      { path: 'cart', component: ShoppingCartComponent },\r\n      { path: 'cars', component: CarsComponent },\r\n      { path: 'ad/:id', component: EditCarComponent }\r\n    ]\r\n  },\r\n  {\r\n    path: 'adminHomepage', component: HomepageAdminComponent,\r\n    children: [\r\n      { path: '', redirectTo: 'comments', pathMatch: 'full' },\r\n      { path: 'comments', component: CommentComponent },\r\n      { path: 'register', component: RegisterComponent },\r\n      { path: 'users', component: UsersComponent },\r\n      { path: 'requests', component: RegistrationRequestComponent },\r\n      { path: 'codebook', component: CodebookComponent }\r\n    ]\r\n  },\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes), NgbModule],\r\n  exports: [RouterModule],\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit {\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div>\r\n   <router-outlet></router-outlet>\r\n</div>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\n\r\nimport { ToastrModule } from 'ngx-toastr';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { LoginComponent } from './auth/login/login.component';\r\nimport { RegisterComponent } from './auth/register/register.component';\r\nimport { ChatComponent } from './chat/chat.component';\r\nimport { RequestsComponent } from './requests/requests.component';\r\nimport { NewCarComponent } from './car/new-car/new-car.component';\r\nimport { CarComponent } from './car/car.component';\r\nimport { OccupationComponent } from './car/occupation/occupation.component';\r\n\r\nimport { CarService } from './car/shared/car.service';\r\nimport { RequestService } from './requests/shared/request.service';\r\nimport { AuthService } from './auth/shared/auth.service';\r\nimport { ChatService } from './chat/shared/chat.service';\r\nimport { AuthInterceptor } from './http-interceptors/auth-interceptor';\r\nimport { CommentComponent } from './comment/comment.component';\r\nimport { StatisticsComponent } from './car/statistics/statistics.component';\r\nimport { HomepageAdminComponent } from './homepage/homepage-admin/homepage-admin.component';\r\nimport { HomepageUsersComponent } from './homepage/homepage-users/homepage-users.component';\r\nimport { HomepageUnregistredComponent } from './homepage/homepage-unregistred/homepage-unregistred.component';\r\nimport { SearchComponent } from './search/search.component';\r\nimport { UsersComponent } from './auth/users/users.component';\r\nimport { CommentAndGradeComponent } from './comment-and-grade/comment-and-grade.component';\r\nimport { PriceListComponent } from './price-list/price-list.component';\r\nimport { ProfileComponent } from './auth/profile/profile.component';\r\nimport { BillComponent } from './bill/bill.component';\r\nimport { ShoppingCartComponent } from './shopping-cart/shopping-cart.component';\r\nimport { RegistrationRequestComponent } from './auth/registration-request/registration-request.component';\r\nimport { ReceivedRequestsComponent } from './requests/received-requests/received-requests.component';\r\nimport { MapComponent } from './map/map.component';\r\nimport { AngularYandexMapsModule, IConfig } from 'angular8-yandex-maps';\r\nimport { CodebookComponent } from './car/codebook/codebook.component';\r\nimport { CarsComponent } from './car/cars/cars.component';\r\nimport { EditCarComponent } from './car/edit-car/edit-car.component';\r\n\r\nconst mapConfig: IConfig = {\r\n  apikey: 'API_KEY',\r\n  lang: 'en_US',\r\n};\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LoginComponent,\r\n    RegisterComponent,\r\n    ChatComponent,\r\n    RequestsComponent,\r\n    NewCarComponent,\r\n    CarComponent,\r\n    OccupationComponent,\r\n    CommentComponent,\r\n    StatisticsComponent,\r\n    HomepageAdminComponent,\r\n    HomepageUsersComponent,\r\n    HomepageUnregistredComponent,\r\n    SearchComponent,\r\n    UsersComponent,\r\n    CommentAndGradeComponent,\r\n    PriceListComponent,\r\n    ProfileComponent,\r\n    BillComponent,\r\n    ShoppingCartComponent,\r\n    RegistrationRequestComponent,\r\n    ReceivedRequestsComponent,\r\n    MapComponent,\r\n    CodebookComponent,\r\n    CarsComponent,\r\n    EditCarComponent,\r\n  ],\r\n  imports: [NgbModule, BrowserAnimationsModule, BrowserModule, AppRoutingModule, HttpClientModule, FormsModule, ReactiveFormsModule,\r\n    ToastrModule.forRoot({\r\n      timeOut: 3000,\r\n      preventDuplicates: true,\r\n      resetTimeoutOnDuplicate: true,\r\n      progressBar: true,\r\n      enableHtml: true\r\n    }),\r\n    AngularYandexMapsModule.forRoot(mapConfig)],\r\n  providers: [CarService, RequestService, AuthService, ChatService,\r\n    { provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true },],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '../shared/auth.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css'],\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  loginForm;\r\n\r\n  constructor(private formBuilder: FormBuilder,\r\n    private authService: AuthService, \r\n    private router: Router,\r\n    private toastr: ToastrService) {\r\n      this.loginForm = this.formBuilder.group({\r\n      username: '',\r\n      password: '',\r\n      });\r\n}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  onSubmit(userData: Object): void {\r\n    // sent to back-end\r\n    this.authService.login(userData).subscribe(\r\n      data=>{\r\n        localStorage.clear();\r\n        localStorage.setItem(\"User-token\", data.accessToken);\r\n        localStorage.setItem(\"Expires-in\", data.expiresIn);\r\n        localStorage.setItem(\"Refresh-token\", data.refreshToken);\r\n        localStorage.setItem(\"Username\", data.username);\r\n        localStorage.setItem(\"User-role\", data.role);\r\n        localStorage.setItem(\"Id\", data.id);\r\n        this.loginForm.reset();\r\n        \r\n        if(data.role == 'ROLE_ADMIN'){\r\n          this.router.navigate(['adminHomepage']);\r\n        }else if(data.role != ''){\r\n          this.router.navigate(['usersHomepage']);\r\n        }\r\n        this.toastr.success('Successfully logged in', 'Login');\r\n        \r\n      },\r\n      error =>{\r\n        this.toastr.info('Bad credentials', 'Login');\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div class=\"d-flex p-2 justify-content-center\">\r\n  <form\r\n    [formGroup]=\"loginForm\"\r\n    class=\"col-sm-4\"\r\n    (ngSubmit)=\"onSubmit(loginForm.value)\"\r\n  >\r\n    <div class=\"form-group\">\r\n      <label for=\"username\">Username</label>\r\n      <input\r\n        class=\"form-control\"\r\n        type=\"text\"\r\n        id=\"username\"\r\n        formControlName=\"username\"\r\n      />\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"pass\">Password</label>\r\n      <input\r\n        class=\"form-control\"\r\n        type=\"password\"\r\n        formControlName=\"password\"\r\n        id=\"password\"\r\n      />\r\n    </div>\r\n    <button class=\"btn btn-primary m-3\" type=\"submit\">\r\n      Login\r\n    </button>\r\n  </form>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { User } from 'src/app/car/shared/user';\r\nimport { AuthService } from '../shared/auth.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.css']\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n  role: string = '';\r\n  username: string = '';\r\n  user: User;\r\n  mode: string = 'VIEW';\r\n\r\n  constructor(private authService: AuthService,\r\n              private _toastr: ToastrService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.role = localStorage.getItem('User-role');\r\n    this.username = localStorage.getItem('Username');\r\n    this.authService.getUser(this.username).subscribe(\r\n      data => {\r\n        this.user = data;\r\n      },\r\n      error => {\r\n        this._toastr.error(\"error geting user\", \"User\");\r\n      }\r\n    );\r\n  }\r\n\r\n  edit(){\r\n    this.mode = 'EDIT';\r\n  }\r\n\r\n  cancel(){\r\n    this.authService.getUser(this.username).subscribe(\r\n      data => {\r\n        this.user = data;\r\n      },\r\n      error => {\r\n        this._toastr.error(\"error geting user\", \"User\");\r\n      }\r\n    );\r\n    this.mode = 'VIEW';\r\n  }\r\n\r\n  save(){\r\n    this.authService.editUser(this.user).subscribe(\r\n      data => {\r\n        this._toastr.success(\"Information successfully updated\", \"Edit\");\r\n        this.mode = 'VIEW';\r\n      },\r\n      error => {\r\n        this._toastr.error(\"Error editing user\", \"Edit user\");\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div class=\"d-flex p-2 justify-content-center\">\r\n    <div class=\"d-flex flex-column col-sm-4\">\r\n        <div>\r\n            <h3 class=\"display-4\" style=\"text-align: center;\">Profile</h3>\r\n        </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"firstName\">First name</label>\r\n        <input\r\n          type=\"text\"\r\n          [(ngModel)] = \"user.firstName\"\r\n          [disabled] = \"mode == 'VIEW'\"\r\n          id=\"firstName\"\r\n          class=\"form-control\"\r\n          required\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"lastName\">Last name</label>\r\n        <input\r\n          type=\"text\"\r\n          [(ngModel)] = \"user.lastName\"\r\n          [disabled] = \"mode == 'VIEW'\"\r\n          id=\"lastName\"\r\n          class=\"form-control\"\r\n          required\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"lastName\">Username</label>\r\n        <input\r\n          type=\"text\"\r\n          [(ngModel)] = \"user.username\"\r\n          id=\"username\"\r\n          disabled\r\n          class=\"form-control\"\r\n          required\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"address\">Address</label>\r\n        <input\r\n          type=\"text\"\r\n          [(ngModel)] = \"user.address\"\r\n          [disabled] = \"mode == 'VIEW'\"\r\n          id=\"address\"\r\n          class=\"form-control\"\r\n          required\r\n        />\r\n      </div>\r\n      <div class=\"form-group\" *ngIf = \"role == 'ROLE_AGENT'\">\r\n        <label for=\"address\">Company Name</label>\r\n        <input\r\n          type=\"text\"\r\n          [(ngModel)] = \"user.companyName\"\r\n          [disabled] = \"mode == 'VIEW'\"\r\n          id=\"companyName\"\r\n          class=\"form-control\"\r\n          required\r\n        />\r\n      </div>\r\n      <div class=\"form-group\" *ngIf = \"role == 'ROLE_AGENT'\">\r\n        <label for=\"address\">Business ID</label>\r\n        <input\r\n          type=\"text\"\r\n          [(ngModel)] = \"user.businessID\"\r\n          [disabled] = \"mode == 'VIEW'\"\r\n          id=\"businessID\"\r\n          class=\"form-control\"\r\n          required\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"email\">Email</label>\r\n        <input\r\n          type=\"email\"\r\n          [(ngModel)] = \"user.email\"\r\n          [disabled] = \"mode == 'VIEW'\"\r\n          id=\"email\"\r\n          class=\"form-control\"\r\n          required\r\n        />\r\n      </div>\r\n      <button class=\"btn btn-outline-success\" *ngIf = \"mode == 'VIEW'\" id=\"btnSearch\" (click) = \"edit()\">Edit</button>\r\n      <button class=\"btn btn-outline-success\" *ngIf = \"mode == 'EDIT'\" id=\"btnSearch\" (click) = \"save()\">Save</button>\r\n      <button class=\"btn btn-outline-danger\" style=\"margin-top: 10px;\" *ngIf = \"mode == 'EDIT'\" id=\"btnSearch\" (click) = \"cancel()\">Cancel</button>\r\n    </div>\r\n  </div>\r\n  ","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, Form, FormGroup } from '@angular/forms';\r\nimport { User } from 'src/app/car/shared/user';\r\nimport { AuthService } from '../shared/auth.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css'],\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n  registerForm;\r\n  role: string = '';\r\n\r\n  constructor(private formBuilder: FormBuilder,\r\n              private authService: AuthService,\r\n              private _toastr: ToastrService) {\r\n    this.registerForm = this.formBuilder.group({\r\n      firstName: '',\r\n      lastName: '',\r\n      address: '',\r\n      email: '',\r\n      password: '',\r\n      companyName: '',\r\n      businessID: '',\r\n      username:'',\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void { \r\n    this.role = localStorage.getItem('User-role');\r\n  }\r\n\r\n  onSubmit(userData) {\r\n    let user: User ={\r\n      id: null,\r\n      firstName: userData.firstName,\r\n      lastName: userData.lastName,\r\n      username: userData.username,\r\n      companyName: '',\r\n      isAdmin: false,\r\n      enabled: false,\r\n      address: userData.address,\r\n      businessID: '',\r\n      email: userData.email,\r\n      password: userData.password,\r\n      roles: [],\r\n      numCanReq: 0,\r\n      flagPaid: false\r\n    };\r\n\r\n    if(this.role == 'ROLE_ADMIN'){\r\n      user.businessID = userData.businessID;\r\n      user.companyName = userData.companyName;\r\n      user.roles.push(\"ROLE_AGENT\");\r\n    }else{\r\n      user.roles.push(\"ROLE_USER\");\r\n    }\r\n\r\n    this.authService.register(user).subscribe(\r\n      data=> {\r\n        if(this.role == 'ROLE_ADMIN')\r\n            this._toastr.success(\"You have succesfully added agent\", \"Registration\");\r\n        else\r\n            this._toastr.success(\"You have succesfully sent reqistration request\", \"Registration\");\r\n\r\n        this.registerForm.reset();\r\n\r\n      }, \r\n      error =>{\r\n        this._toastr.error(\"Error during registration\", \"Registration\");\r\n      }\r\n    );\r\n    \r\n  }\r\n}\r\n","<div class=\"d-flex p-2 justify-content-center\">\r\n  <form\r\n    [formGroup]=\"registerForm\"\r\n    class=\"needs-validation col-sm-4\"\r\n    (ngSubmit)=\"onSubmit(registerForm.value)\"\r\n  >\r\n    <div class=\"form-group\">\r\n      <label for=\"firstName\">First name</label>\r\n      <input\r\n        type=\"text\"\r\n        formControlName=\"firstName\"\r\n        id=\"firstName\"\r\n        class=\"form-control\"\r\n        required\r\n      />\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"lastName\">Last name</label>\r\n      <input\r\n        type=\"text\"\r\n        formControlName=\"lastName\"\r\n        id=\"lastName\"\r\n        class=\"form-control\"\r\n        required\r\n      />\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"lastName\">Username</label>\r\n      <input\r\n        type=\"text\"\r\n        formControlName=\"username\"\r\n        id=\"username\"\r\n        class=\"form-control\"\r\n        required\r\n      />\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"address\">Address</label>\r\n      <input\r\n        type=\"text\"\r\n        formControlName=\"address\"\r\n        id=\"address\"\r\n        class=\"form-control\"\r\n        required\r\n      />\r\n    </div>\r\n    <div class=\"form-group\" *ngIf = \"role == 'ROLE_ADMIN'\">\r\n      <label for=\"address\">Company Name</label>\r\n      <input\r\n        type=\"text\"\r\n        formControlName=\"companyName\"\r\n        id=\"companyName\"\r\n        class=\"form-control\"\r\n        required\r\n      />\r\n    </div>\r\n    <div class=\"form-group\" *ngIf = \"role == 'ROLE_ADMIN'\">\r\n      <label for=\"address\">Business ID</label>\r\n      <input\r\n        type=\"text\"\r\n        formControlName=\"businessID\"\r\n        id=\"businessID\"\r\n        class=\"form-control\"\r\n        required\r\n      />\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"email\">Email</label>\r\n      <input\r\n        type=\"email\"\r\n        formControlName=\"email\"\r\n        id=\"email\"\r\n        class=\"form-control\"\r\n        required\r\n      />\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <label for=\"password\">Password</label>\r\n      <input\r\n        type=\"password\"\r\n        formControlName=\"password\"\r\n        id=\"password\"\r\n        class=\"form-control\"\r\n        required\r\n      />\r\n    </div>\r\n    <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\r\n  </form>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from '../shared/auth.service';\r\nimport { UserRequest } from '../shared/user.regreq';\r\n\r\n@Component({\r\n  selector: 'app-registration-request',\r\n  templateUrl: './registration-request.component.html',\r\n  styleUrls: ['./registration-request.component.css']\r\n})\r\nexport class RegistrationRequestComponent implements OnInit {\r\n  users: UserRequest[];\r\n\r\n  constructor(private authService: AuthService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.authService.getRegistrationRequests().subscribe((data: UserRequest[]) => this.users = data);\r\n  }\r\n\r\n  approve(user: UserRequest) {\r\n    this.authService.approveRequest(user.id).subscribe((data) => alert(\"approved\"));\r\n    let index = this.users.indexOf(user);\r\n    this.users.splice(index, 1);\r\n  }\r\n\r\n  refuse(user: UserRequest) {\r\n    this.authService.refuseRequest(user.id).subscribe((data) => alert(\"refused\"));\r\n    let index = this.users.indexOf(user);\r\n    console.log(index);\r\n    this.users.splice(index, index);\r\n    console.log(this.users, 1);\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n   <div class=\"col-8 justify-content-center\">\r\n      <div class=\"col\">\r\n         <h1 class=\"h1\">Registration reqeusts</h1>\r\n      </div>\r\n      <div class=\"col\">\r\n         <div class=\"col\" *ngIf=\"users == undefined\">\r\n            <h3 class=\"h3\">\r\n               There are no active registration requests\r\n            </h3>\r\n         </div>\r\n         <table class=\"table table-hover\">\r\n            <thead *ngIf=\"users != undefined\">\r\n               <tr>\r\n                  <th scope=\"col\">#</th>\r\n                  <th scope=\"col\">First name</th>\r\n                  <th scope=\"col\">Last name</th>\r\n                  <th scope=\"col\">Username</th>\r\n                  <th scope=\"col\">Approve</th>\r\n\r\n                  <th scope=\"col\">Refuse</th>\r\n               </tr>\r\n            </thead>\r\n            <tbody>\r\n               <tr *ngFor=\"let user of users; let i = index\">\r\n                  <th scope=\"row\">{{ i + 1 }}</th>\r\n                  <td>{{ user.firstName }}</td>\r\n                  <td>{{ user.lastName }}</td>\r\n                  <td>{{ user.username }}</td>\r\n                  <td>\r\n                     <button\r\n                        type=\"button\"\r\n                        class=\"btn btn-success btn-sm\"\r\n                        (click)=\"approve(user)\"\r\n                     >\r\n                        Approve\r\n                     </button>\r\n                  </td>\r\n                  <td>\r\n                     <button\r\n                        type=\"button\"\r\n                        class=\"btn btn-danger btn-sm\"\r\n                        (click)=\"refuse(user)\"\r\n                     >\r\n                        Refuse\r\n                     </button>\r\n                  </td>\r\n               </tr>\r\n            </tbody>\r\n         </table>\r\n      </div>\r\n   </div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { User } from 'src/app/car/shared/user';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getToken() {\r\n    let token = localStorage.getItem(\"User-token\");\r\n    return token == null ? '' : 'Bearer ' + token;\r\n  }\r\n\r\n  login(login: any) {\r\n    //return this.http.post<any>('http://localhost:8080/login', login);\r\n    return this.http.post<any>(environment.api + '/security/login', login);\r\n  }\r\n\r\n  register(user: any) {\r\n    //return this.http.post<any>('http://localhost:8080/register', user);\r\n    return this.http.post<any>(environment.api + '/security/register', user);\r\n  }\r\n\r\n  getUsers() {\r\n    //return this.http.get<any>('http://localhost:8080/users');\r\n    return this.http.get<any>(environment.api + '/security/users');\r\n  }\r\n\r\n  disableUser(id: number) {\r\n    //return this.http.get<any>('http://localhost:8080/disable/' + id);\r\n    return this.http.get<any>(environment.api + '/security/disable/' + id);\r\n  }\r\n\r\n  enableUser(id: number) {\r\n    //return this.http.get<any>('http://localhost:8080/enable/' + id);\r\n    return this.http.get<any>(environment.api + '/security/enable/' + id);\r\n  }\r\n\r\n  deleteUser(id: number) {\r\n    //return this.http.delete('http://localhost:8080/' + id);\r\n    return this.http.delete<any>(environment.api + '/security/' + id);\r\n  }\r\n\r\n  getUser(username: string) {\r\n    //return this.http.get<any>('http://localhost:8080/' + username);\r\n    return this.http.get<any>(environment.api + '/security/' + username);\r\n  }\r\n\r\n  disableEnableRent(id: number, privilege: boolean) {\r\n    //return this.http.get<any>('http://localhost:8080/rentPrivilege/' + privilege + \"/\" + id);\r\n    return this.http.get<any>(environment.api + '/security/rentPrivilege/' + privilege + \"/\" + id);\r\n  }\r\n\r\n  editUser(user: User) {\r\n    return this.http.patch(environment.api + '/security', {\r\n      id: user.id,\r\n      companyName: user.companyName,\r\n      businessID: user.businessID,\r\n      email: user.email,\r\n      firstName: user.firstName,\r\n      lastName: user.lastName,\r\n      address: user.address\r\n    });\r\n    /*return this.http.patch('http://localhost:8080', {\r\n                                                      id: user.id,\r\n                                                      companyName: user.companyName,\r\n                                                      businessID: user.businessID,\r\n                                                      email: user.email,\r\n                                                      firstName: user.firstName,\r\n                                                      lastName: user.lastName,\r\n                                                      address: user.address\r\n                                                    });*/\r\n  }\r\n\r\n  getRegistrationRequests() {\r\n    return this.http.get(environment.api + '/security/registration-requests');\r\n  }\r\n\r\n  approveRequest(id: number) {\r\n    return this.http.post(environment.api + '/security/approve/' + id, {});\r\n  }\r\n\r\n  refuseRequest(id: number) {\r\n    return this.http.post(environment.api + '/security/refuse/' + id, {});\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { User } from 'src/app/car/shared/user';\r\nimport { AuthService } from '../shared/auth.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n  selector: 'app-users',\r\n  templateUrl: './users.component.html',\r\n  styleUrls: ['./users.component.css']\r\n})\r\nexport class UsersComponent implements OnInit {\r\n\r\n  users: User[];\r\n  constructor(private authService: AuthService,\r\n              private _toastr: ToastrService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.authService.getUsers().subscribe(\r\n      data=>{\r\n        this.users = data;\r\n      }\r\n    );\r\n  }\r\n\r\n  refresh(){\r\n    this.authService.getUsers().subscribe(\r\n      data=>{\r\n        this.users = data;\r\n      }\r\n    );\r\n  }\r\n\r\n  disable(id: number){\r\n    this.authService.disableUser(id).subscribe(\r\n      data=>{\r\n        this._toastr.success(\"User successfully disabled\", \"Disable\");\r\n        this.refresh();\r\n      },\r\n      error=>{\r\n        this._toastr.error(\"Error\", \"Disable\");\r\n      }\r\n    );\r\n  }\r\n\r\n  delete(id: number){\r\n    this.authService.deleteUser(id).subscribe(\r\n      data=>{\r\n        this._toastr.success(\"User successfully deleted\", \"Delete\");\r\n        this.refresh();\r\n      },\r\n      error=>{\r\n        this._toastr.error(\"Error\", \"Delete\");\r\n      }\r\n    );\r\n  }\r\n\r\n  disableRent(id: number){\r\n    this.authService.disableEnableRent(id, false).subscribe(\r\n      data=>{\r\n        this._toastr.success(\"User successfully disabled for renting\", \"Rent\");\r\n        this.refresh();\r\n      },\r\n      error=>{\r\n        this._toastr.error(\"Error\", \"Rent\");\r\n      }\r\n    );\r\n  }\r\n\r\n  checkPrivilege(roles: string[]){\r\n      if(roles.indexOf('POST_ADS') > -1)\r\n          return true;\r\n      else\r\n          return false;\r\n  }\r\n\r\n  enableRent(id: number){\r\n    this.authService.disableEnableRent(id, true).subscribe(\r\n      data=>{\r\n        this._toastr.success(\"User successfully enabled for renting\", \"Rent\");\r\n        this.refresh();\r\n      },\r\n      error=>{\r\n        this._toastr.error(\"Error\", \"Rent\");\r\n      }\r\n    );\r\n  }\r\n\r\n  enable(id: number){\r\n    this.authService.enableUser(id).subscribe(\r\n      data=>{\r\n        this._toastr.success(\"User successfully enabled\", \"Enable\");\r\n        this.refresh();\r\n      },\r\n      error=>{\r\n        this._toastr.error(\"Error\", \"Enable\");\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div class=\"d-flex p-2 justify-content-center\">\r\n    <div class=\"d-flex flex-column p-2 justify-content-center\">\r\n      <div class=\"d-flex flex-row flex-wrap p-2 justify-content-center\">\r\n        <div\r\n          *ngFor=\"let u of users\"\r\n          class=\"card border-primary mb-3\"\r\n          style=\"max-width: 20rem; max-height: 25rem; float: left; margin: 10px\"\r\n        >\r\n          <div class=\"card-body\">\r\n            <h4 class=\"card-title\">{{u.firstName}} {{u.lastName}}</h4>\r\n            <p class=\"card-text\">Username: {{u.username}}</p>\r\n            <p class=\"card-text\">Address: {{u.address}}</p>\r\n            <p class=\"card-text\">Email: {{u.email}}</p>\r\n            <p class=\"card-text\">Number of cancelled request: {{u.numCanReq}}</p>\r\n            <button type=\"button\" style=\"margin-top: 7px; margin-bottom: 7px; width: 100%;\" class=\"btn btn-danger\" *ngIf = \"checkPrivilege(u.roles)\" [disabled] = \"u.flagPaid == true\" (click) = \"disableRent(u.id)\" >Disable for renting</button>\r\n            <button type=\"button\" style=\"margin-top: 7px; margin-bottom: 7px; width: 100%;\" *ngIf = \"!checkPrivilege(u.roles)\" [disabled] = \"u.flagPaid == true\" class=\"btn btn-success\" (click) = \"enableRent(u.id)\" >Enable for renting</button> \r\n            <button type=\"button\" class=\"btn btn-danger\" *ngIf=\"u.enabled == true\" (click)=\"disable(u.id)\">Disable</button> \r\n            <button type=\"button\" class=\"btn btn-success\" *ngIf=\"u.enabled == false\" (click)=\"enable(u.id)\">Enable</button>\r\n            <button type=\"button\" style=\"margin-left: 10px; float: right;\" class=\"btn btn-danger\" (click) = \"delete(u.id)\" >Delete</button> \r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>","import { Component, OnInit } from '@angular/core';\r\nimport { Bill } from './shared/bill';\r\nimport { BillService } from './shared/bill.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n  selector: 'app-bill',\r\n  templateUrl: './bill.component.html',\r\n  styleUrls: ['./bill.component.css']\r\n})\r\nexport class BillComponent implements OnInit {\r\n  bills: Bill[] = [];\r\n  constructor(private billService: BillService,\r\n              private _toastr: ToastrService ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.billService.getBills(localStorage.getItem('Username')).subscribe(\r\n      data => {\r\n        this.bills = data;\r\n      },\r\n      error => {\r\n        this._toastr.error(\"Error getting bills\", \"Bills\");\r\n      }\r\n    );\r\n  }\r\n\r\n  refresh(){\r\n    this.billService.getBills(localStorage.getItem('Username')).subscribe(\r\n      data => {\r\n        this.bills = data;\r\n      },\r\n      error => {\r\n        this._toastr.error(\"Error getting bills\", \"Bills\");\r\n      }\r\n    );\r\n  }\r\n\r\n  pay(bill: Bill){\r\n    this.billService.payBill(bill.id).subscribe(\r\n      data => {\r\n        this._toastr.success(\"BIll has been paid\", \"Bill\");\r\n        this.refresh();\r\n      },\r\n      error => {\r\n        this._toastr.error(\"Error paying bill\", \"Bill\");\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","<div class=\"d-flex justify-content-center\">\r\n    <div class=\"d-flex flex-column col-sm-7\">\r\n       <h1 class=\"display-4\" style=\"text-align: center; border-bottom: 2px solid #ccc;\">Bills</h1>\r\n       <h3 class=\"display-4\" style=\"text-align: center; margin-top: 10px;\" *ngIf = \"bills.length == 0\">No bils</h3>\r\n       <div *ngFor = \"let bill of bills\" class=\"card\"  style=\"margin-top: 10px;\">\r\n          <div class=\"card-body\" >\r\n            <h5 class=\"card-title\">To pay: {{bill.price}}</h5>\r\n             <button class=\"btn btn-success\" *ngIf = \"bill.paid == false\" style=\"float: right;\" (click) = \"pay(bill)\">Pay</button>\r\n             <button class=\"btn btn-secondary\" *ngIf = \"bill.paid == true\" style=\"float: right;\" disabled>Paid</button>\r\n          </div>\r\n       </div>\r\n       <br>\r\n </div>\r\n ","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BillService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getBills(username: string) {\r\n    //return this.http.get<any>('http://localhost:8080/bill/' + username);\r\n    return this.http.get<any>(environment.api + '/request/bill/' + username);\r\n  }\r\n\r\n  payBill(id: number) {\r\n    //return this.http.patch<any>('http://localhost:8080/bill/pay/' + id,{});\r\n    return this.http.patch<any>(environment.api + '/request/bill/pay/' + id, {});\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { CarService } from './shared/car.service';\r\nimport { CommentService } from '../comment/shared/comment.service';\r\nimport { IComment } from '../comment/shared/comment';\r\nimport { AdInfo } from './shared/adInfo';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Location } from '@angular/common'\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n  selector: 'app-car',\r\n  templateUrl: './car.component.html',\r\n  styleUrls: ['./car.component.css']\r\n})\r\nexport class CarComponent implements OnInit {\r\n\r\n  ad: AdInfo;\r\n  commentText: string;\r\n  comment: IComment;\r\n  comments: IComment[];\r\n  id: number;\r\n  private sub: any;\r\n  role: string = '';\r\n\r\n  constructor(private carService: CarService, private _toastr: ToastrService, private _location: Location,\r\n    private commentService: CommentService, private route: ActivatedRoute, private router: Router) { }\r\n\r\n  ngOnInit(): void {\r\n    this.role = localStorage.getItem(\"User-role\");\r\n    this.sub = this.route.params.subscribe(params => {\r\n      this.id = +params['id']; // (+) converts string 'id' to a number\r\n\r\n      // In a real app: dispatch action to load the details here.\r\n    });\r\n    this.carService.getOneAd(this.id).subscribe(\r\n      data => {\r\n        this.ad = data;\r\n        this.ad.fromDate = new Date(this.ad.fromDate);\r\n        this.ad.toDate = new Date(this.ad.toDate);\r\n        this.commentService.getCommentsForCar(this.ad.car.id).subscribe(\r\n          data => {\r\n            this.comments = data\r\n          }\r\n        );\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  sendComment(): void {\r\n    this.comment = {\r\n      adId: this.ad.id,\r\n      approved: false,\r\n      role: localStorage.getItem(\"User-role\"),\r\n      text: this.commentText,\r\n      userUsername: localStorage.getItem(\"Username\"),\r\n      id: null,\r\n      carId: this.ad.car.id\r\n    };\r\n    this.commentService.createCommentReply(this.comment).subscribe(\r\n      data=>{\r\n        this._toastr.success(\"Comment succesfully created\", \"Comment\");\r\n      },\r\n      error =>{\r\n        if(error.status == 400)\r\n          this._toastr.info(\"Comment already sent\", \"Comment\");\r\n        else\r\n          this._toastr.error(\"Error creating comment\", \"Comment\");\r\n      }\r\n    );\r\n    this.commentText = \"\";\r\n  }\r\n\r\n  back() {\r\n    this._location.back();\r\n  }\r\n\r\n}\r\n","<div class=\"d-flex justify-content-center\">\r\n   <div\r\n      class=\"d-flex flex-column col-sm-8\"\r\n      style=\"background-color: lightgray;\"\r\n   >\r\n      <div class=\"d-flex flex-row\" style=\"margin-top: 5px;\">\r\n         <button class=\"btn btn-outline-info\" (click)=\"back()\">Back</button>\r\n      </div>\r\n      <div class=\"d-flex flex-row\" style=\"margin-top: 0px;\">\r\n         <div\r\n            class=\"my-3 p-3 bg-white rounded shadow-sm\"\r\n            style=\"\r\n               width: 50%;\r\n               height: 800px;\r\n               background-color: aqua;\r\n               margin-right: 5px;\r\n            \"\r\n         >\r\n            <div class=\"col-md-12\">\r\n               <div class=\"card mb-4 shadow-sm\">\r\n                  <svg\r\n                     class=\"bd-placeholder-img card-img-top\"\r\n                     width=\"100%\"\r\n                     height=\"250\"\r\n                     xmlns=\"http://www.w3.org/2000/svg\"\r\n                     preserveAspectRatio=\"xMidYMid slice\"\r\n                     focusable=\"false\"\r\n                     role=\"img\"\r\n                     aria-label=\"Placeholder: Thumbnail\"\r\n                  >\r\n                     <title>Placeholder</title>\r\n                     <rect width=\"100%\" height=\"100%\" fill=\"#55595c\" />\r\n                     <text x=\"50%\" y=\"50%\" fill=\"#eceeef\" dy=\".3em\">\r\n                        Thumbnail\r\n                     </text>\r\n                  </svg>\r\n                  <img src=\"{{ ad.images[0] }}\" alt=\"slika\" width=\"100px\" />\r\n                  <div class=\"card-body\">\r\n                     <div\r\n                        class=\"d-flex justify-content-between align-items-center\"\r\n                     >\r\n                        <div class=\"btn-group\">\r\n                           <button\r\n                              type=\"button\"\r\n                              class=\"btn btn-sm btn-outline-secondary\"\r\n                           >\r\n                              previous\r\n                           </button>\r\n                           <button\r\n                              type=\"button\"\r\n                              class=\"btn btn-sm btn-outline-secondary\"\r\n                           >\r\n                              next\r\n                           </button>\r\n                        </div>\r\n                     </div>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n            <div class=\"col-md-9 mb-3\">\r\n               <label for=\"fromDate\">From date</label>\r\n               <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"firstName\"\r\n                  placeholder=\"From\"\r\n                  value=\"\"\r\n                  [(ngModel)]=\"ad.fromDate\"\r\n                  disabled\r\n               />\r\n            </div>\r\n            <div class=\"col-md-9 mb-3\">\r\n               <label for=\"firstName\">To date</label>\r\n               <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"firstName\"\r\n                  placeholder=\"To\"\r\n                  value=\"\"\r\n                  [(ngModel)]=\"ad.toDate\"\r\n                  disabled\r\n               />\r\n            </div>\r\n            <div class=\"col-md-9 mb-3\">\r\n               <label for=\"firstName\">Pick up place</label>\r\n               <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"firstName\"\r\n                  placeholder=\"To\"\r\n                  value=\"\"\r\n                  [(ngModel)]=\"ad.pickUpPlace\"\r\n                  disabled\r\n               />\r\n            </div>\r\n            <div class=\"col-md-9 mb-3\">\r\n               <label for=\"firstName\">Allowed kilometrage</label>\r\n               <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"firstName\"\r\n                  placeholder=\"Allowed kilometrage\"\r\n                  value=\"\"\r\n                  [(ngModel)]=\"ad.allowedKilometrage\"\r\n                  disabled\r\n               />\r\n            </div>\r\n            <div\r\n               class=\"custom-control custom-checkbox\"\r\n               style=\"margin-left: 20px; margin-top: 30px;\"\r\n            >\r\n               <input\r\n                  type=\"checkbox\"\r\n                  class=\"custom-control-input\"\r\n                  id=\"same-address\"\r\n                  [(ngModel)]=\"ad.cdwAvailable\"\r\n                  disabled\r\n               />\r\n               <label class=\"custom-control-label\" for=\"same-address\"\r\n                  >CDW available</label\r\n               >\r\n            </div>\r\n         </div>\r\n         <div\r\n            class=\"my-3 p-3 bg-white rounded shadow-sm\"\r\n            style=\"\r\n               width: 50%;\r\n               height: 800px;\r\n               background-color: azure;\r\n               margin-left: 5px;\r\n            \"\r\n         >\r\n            <div class=\"col-md-9 mb-3\">\r\n               <label for=\"firstName\">Model</label>\r\n               <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"firstName\"\r\n                  placeholder=\"Model\"\r\n                  value=\"\"\r\n                  [(ngModel)]=\"ad.car.model.name\"\r\n                  disabled\r\n               />\r\n            </div>\r\n            <div class=\"col-md-9 mb-3\">\r\n               <label for=\"firstName\">Mark</label>\r\n               <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"firstName\"\r\n                  placeholder=\"Mark\"\r\n                  value=\"\"\r\n                  [(ngModel)]=\"ad.car.mark.name\"\r\n                  disabled\r\n               />\r\n            </div>\r\n            <div class=\"col-md-9 mb-3\">\r\n               <label for=\"firstName\">Fuel</label>\r\n               <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"firstName\"\r\n                  placeholder=\"Fuel\"\r\n                  value=\"\"\r\n                  [(ngModel)]=\"ad.car.fuel.type\"\r\n                  disabled\r\n               />\r\n            </div>\r\n            <div class=\"col-md-9 mb-3\">\r\n               <label for=\"firstName\">Car Class</label>\r\n               <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"firstName\"\r\n                  placeholder=\"Car class\"\r\n                  value=\"\"\r\n                  [(ngModel)]=\"ad.car.carClass.name\"\r\n                  disabled\r\n               />\r\n            </div>\r\n            <div class=\"col-md-9 mb-3\">\r\n               <label for=\"firstName\">Gearbox</label>\r\n               <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"firstName\"\r\n                  placeholder=\"Gearbox\"\r\n                  value=\"\"\r\n                  [(ngModel)]=\"ad.car.gearbox.type\"\r\n                  disabled\r\n               />\r\n            </div>\r\n            <div class=\"col-md-9 mb-3\">\r\n               <label for=\"firstName\">Kilometrage</label>\r\n               <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"firstName\"\r\n                  placeholder=\"Kilometrage\"\r\n                  value=\"\"\r\n                  [(ngModel)]=\"ad.car.kilometrage\"\r\n                  disabled\r\n               />\r\n            </div>\r\n            <div class=\"col-md-9 mb-3\">\r\n               <label for=\"firstName\">Number of child seats</label>\r\n               <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"firstName\"\r\n                  placeholder=\"Number of child seats\"\r\n                  value=\"\"\r\n                  [(ngModel)]=\"ad.car.numberOfChildSeats\"\r\n                  disabled\r\n               />\r\n            </div>\r\n            <div class=\"col-md-9 mb-3\">\r\n               <label for=\"firstName\">Grade</label>\r\n               <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"firstName\"\r\n                  placeholder=\"Grade\"\r\n                  value=\"\"\r\n                  [(ngModel)]=\"ad.car.overallGrade\"\r\n                  disabled\r\n               />\r\n            </div>\r\n            <div class=\"col-md-9 mb-4\">\r\n               <label for=\"firstName\">Price</label>\r\n               <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"firstName\"\r\n                  placeholder=\"Price\"\r\n                  value=\"\"\r\n                  [(ngModel)]=\"ad.car.numberOfChildSeats\"\r\n                  disabled\r\n               />\r\n            </div>\r\n         </div>\r\n      </div>\r\n      <div>\r\n         <div class=\"my-3 p-3 bg-white rounded shadow-sm\">\r\n            <h6 class=\"border-bottom border-gray pb-2 mb-0\">Comments</h6>\r\n            <div class=\"media text-muted pt-3\" *ngFor=\"let comment of comments\">\r\n               <svg\r\n                  class=\"bd-placeholder-img mr-2 rounded\"\r\n                  width=\"32\"\r\n                  height=\"32\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  preserveAspectRatio=\"xMidYMid slice\"\r\n                  focusable=\"false\"\r\n                  role=\"img\"\r\n                  aria-label=\"Placeholder: 32x32\"\r\n               >\r\n                  <title>Placeholder</title>\r\n                  <rect width=\"100%\" height=\"100%\" fill=\"#007bff\" />\r\n                  <text x=\"50%\" y=\"50%\" fill=\"#007bff\" dy=\".3em\">32x32</text>\r\n               </svg>\r\n               <p\r\n                  class=\"media-body pb-3 mb-0 small lh-125 border-bottom border-gray\"\r\n               >\r\n                  <strong class=\"d-block text-gray-dark\"\r\n                     >@{{ comment.userUsername }}</strong\r\n                  >\r\n                  {{ comment.text }}\r\n               </p>\r\n            </div>\r\n            <div\r\n               class=\"media text-muted pt-3 d-flex flex-column\"\r\n               *ngIf=\"role == 'ROLE_AGENT'\"\r\n            >\r\n               <textarea\r\n                  class=\"form-control\"\r\n                  id=\"exampleFormControlTextarea1\"\r\n                  rows=\"3\"\r\n                  [(ngModel)]=\"commentText\"\r\n               ></textarea>\r\n               <br />\r\n               <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-primary\"\r\n                  style=\"float: left;\"\r\n                  (click)=\"sendComment()\"\r\n               >\r\n                  Comment\r\n               </button>\r\n            </div>\r\n         </div>\r\n      </div>\r\n   </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { CarInfo } from '../shared/carInfo';\r\nimport { CarService } from '../shared/car.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-cars',\r\n  templateUrl: './cars.component.html',\r\n  styleUrls: ['./cars.component.css']\r\n})\r\nexport class CarsComponent implements OnInit {\r\n  cars: CarInfo[];\r\n  username: string;\r\n\r\n  constructor(private carService: CarService,\r\n              private router: Router,\r\n              private route: ActivatedRoute) { }\r\n\r\n  ngOnInit(): void {\r\n    this.username = localStorage.getItem(\"Username\");\r\n\r\n    this.carService.getCarsByUser(this.username).subscribe(\r\n      (data: CarInfo[]) => this.cars = data,\r\n      err => console.error('Error in getting all cars by user\\'s username: ' + this.username)\r\n    );\r\n  }\r\n\r\n  editCar(car: CarInfo): void {\r\n    this.router.navigate(['ad', car.id],{relativeTo: this.route.parent});\r\n  }\r\n\r\n}\r\n","<div class=\"col-sm-6\">\r\n    <table class=\"table table-hover\">\r\n        <thead class=\"thead-dark\">\r\n            <tr>\r\n                <th scope=\"col\">Mark</th>\r\n                <th scope=\"col\">Model</th>\r\n                <th scope=\"col\">Edit</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor=\"let car of cars\">\r\n                <td>{{ car.mark.name }}</td>\r\n                <td>{{ car.model.name }}</td>\r\n                <td>\r\n                    <button\r\n                        class=\"btn btn-dark\"\r\n                        (click)=\"editCar(car)\"\r\n                    >\r\n                        Edit\r\n                    </button>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div> \r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Mark } from './shared/mark.car';\r\nimport { Model } from './shared/model.car';\r\nimport { Fuel } from './shared/fuel.car';\r\nimport { Gearbox } from './shared/gearbox.car';\r\nimport { Carclass } from './shared/carclass.car';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { CodebookService } from './shared/codebook.service';\r\nimport { FormBuilder, FormGroup, FormControl } from '@angular/forms';\r\n\r\n\r\n@Component({\r\n  selector: 'app-codebook',\r\n  templateUrl: './codebook.component.html',\r\n  styleUrls: ['./codebook.component.css']\r\n})\r\nexport class CodebookComponent implements OnInit {\r\n  @ViewChild('closebuttonmark') closebuttonMark;\r\n  @ViewChild('closebuttonmodel') closebuttonModel;\r\n  @ViewChild('closebuttonfuel') closebuttonFuel;\r\n  @ViewChild('closebuttongearbox') closebuttonGearbox;\r\n  @ViewChild('closebuttoncarclass') closebuttonCarclass;\r\n\r\n  marks: Mark[] = [];\r\n  models: Model[] = [];\r\n  fuels: Fuel[] = [];\r\n  gearboxes: Gearbox[] = [];\r\n  carclasses: Carclass[] = [];\r\n  nameForm: FormGroup;\r\n  typeForm: FormGroup;\r\n  modelForm: FormGroup;\r\n  markForm: FormGroup;\r\n  fuelForm: FormGroup;\r\n\r\n  edit: boolean = false;\r\n\r\n\r\n  constructor(private _toastr: ToastrService, private codebookService: CodebookService, private formBuilder: FormBuilder) {\r\n    this.nameForm = this.formBuilder.group({ id: '', name: '' });\r\n    this.typeForm = this.formBuilder.group({ id: '', type: '' });\r\n    this.modelForm = this.formBuilder.group({ id: '', name: '', markId: -1 })\r\n    this.markForm = this.formBuilder.group({ id: '', name: '' });\r\n    this.fuelForm = this.formBuilder.group({ id: '', type: '' });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    this.codebookService.getMarks().subscribe(\r\n      (data: Mark[]) => this.marks = data,\r\n      error => this._toastr.error(\"Error while retrieving marks\", \"Error\")\r\n    );\r\n    this.codebookService.getModels().subscribe(\r\n      (data: Model[]) => this.models = data,\r\n      error => this._toastr.error(\"Error while retrieving models\", \"Error\")\r\n    );\r\n    this.codebookService.getFuels().subscribe(\r\n      (data: Fuel[]) => this.fuels = data,\r\n      error => this._toastr.error(\"Error while retrieving fuels\", \"Error\")\r\n    );\r\n    this.codebookService.getGearboxes().subscribe(\r\n      (data: Gearbox[]) => this.gearboxes = data,\r\n      error => this._toastr.error(\"Error while retrieving gearboxes\", \"Error\")\r\n    );\r\n    this.codebookService.getCarClasses().subscribe(\r\n      (data: Carclass[]) => this.carclasses = data,\r\n      error => this._toastr.error(\"Error while retrieving car classes\", \"Error\")\r\n    );\r\n  }\r\n\r\n  nameSubmit(value) {\r\n    console.log(value);\r\n    if (this.edit) {\r\n      this.codebookService.changeMark(value).subscribe(\r\n        () => this._toastr.success(\"Mark changed\", \"Success\"),\r\n        error => this._toastr.error(\"Error while changing mark\", \"Error\")\r\n      );\r\n    } else {\r\n      this.codebookService.postNewMark(value).subscribe(\r\n        () => this._toastr.success(\"Mark created\", \"Success\"),\r\n        error => this._toastr.error(\"Error while saving mark\", \"Error\")\r\n      );\r\n    }\r\n    this.closebuttonMark.nativeElement.click();\r\n    this.getData();\r\n  }\r\n\r\n  modelSubmit(value) {\r\n    console.log(value);\r\n    this.marks.forEach(element => {\r\n      if (element.id == value.markId) {\r\n        console.log(element);\r\n        value.mark = element;\r\n      }\r\n    });\r\n    if (this.edit) {\r\n      this.codebookService.changeModel(value).subscribe(\r\n        () => this._toastr.success(\"Model changed\", \"Success\"),\r\n        error => this._toastr.error(\"Error while changing model\", \"Error\")\r\n      );\r\n    } else {\r\n      this.codebookService.postNewModel(value).subscribe(\r\n        () => this._toastr.success(\"Model created\", \"Success\"),\r\n        error => this._toastr.error(\"Error while saving model\", \"Error\")\r\n      );\r\n    }\r\n    this.closebuttonModel.nativeElement.click();\r\n    this.getData();\r\n  }\r\n\r\n  fuelSubmit(value) {\r\n    console.log(value);\r\n    if (this.edit) {\r\n      this.codebookService.changeFuel(value).subscribe(\r\n        () => this._toastr.success(\"Fuel changed\", \"Success\"),\r\n        error => this._toastr.error(\"Error while changing fuel\", \"Error\")\r\n      );\r\n    } else {\r\n      this.codebookService.postNewFuel(value).subscribe(\r\n        () => this._toastr.success(\"Fuel created\", \"Success\"),\r\n        error => this._toastr.error(\"Error while saving fuel\", \"Error\")\r\n      );\r\n    }\r\n    this.closebuttonFuel.nativeElement.click();\r\n    this.getData();\r\n  }\r\n\r\n  gearboxSubmit(value) {\r\n    console.log(value);\r\n    if (this.edit) {\r\n      this.codebookService.changeGearbox(value).subscribe(\r\n        () => this._toastr.success(\"Gearbox changed\", \"Success\"),\r\n        error => this._toastr.error(\"Error while changing gearbox\", \"Error\")\r\n      );\r\n    } else {\r\n      this.codebookService.postNewGearbox(value).subscribe(\r\n        () => this._toastr.success(\"Gearbox created\", \"Success\"),\r\n        error => this._toastr.error(\"Error while saving gearbox\", \"Error\")\r\n      );\r\n    }\r\n    this.closebuttonGearbox.nativeElement.click();\r\n    this.getData();\r\n  }\r\n\r\n  carclassSubmit(value) {\r\n    console.log(value);\r\n    if (this.edit) {\r\n      this.codebookService.changeCarclass(value).subscribe(\r\n        () => this._toastr.success(\"Car class changed\", \"Success\"),\r\n        error => this._toastr.error(\"Error while changing car class\", \"Error\")\r\n      );\r\n    } else {\r\n      this.codebookService.postNewCarclass(value).subscribe(\r\n        () => this._toastr.success(\"Car class created\", \"Success\"),\r\n        error => this._toastr.error(\"Error while saving car class\", \"Error\")\r\n      );\r\n    }\r\n    this.closebuttonCarclass.nativeElement.click();\r\n    this.getData();\r\n  }\r\n\r\n  setMark(mark: Mark) {\r\n    this.markForm.setControl('name', new FormControl(mark.name));\r\n    this.markForm.setControl('id', new FormControl(mark.id));\r\n    this.edit = true;\r\n  }\r\n\r\n  setModel(model: Model) {\r\n    this.modelForm.setControl('name', new FormControl(model.name));\r\n    this.modelForm.setControl('id', new FormControl(model.id));\r\n    this.modelForm.setControl('markId', new FormControl(model.mark.id));\r\n    this.edit = true;\r\n  }\r\n\r\n  setFuel(fuel: Fuel) {\r\n    this.fuelForm.setControl('type', new FormControl(fuel.type));\r\n    this.fuelForm.setControl('id', new FormControl(fuel.id));\r\n    this.edit = true;\r\n  }\r\n\r\n  setGearbox(gearbox: Gearbox) {\r\n    this.typeForm.setControl('type', new FormControl(gearbox.type));\r\n    this.typeForm.setControl('id', new FormControl(gearbox.id));\r\n    this.edit = true;\r\n  }\r\n\r\n  setCarclass(carclass: Carclass) {\r\n    this.nameForm.setControl('name', new FormControl(carclass.name));\r\n    this.nameForm.setControl('id', new FormControl(carclass.id));\r\n    this.edit = true;\r\n  }\r\n\r\n  newNotEdit() {\r\n    this.edit = false;\r\n    this.nameForm.setControl('name', new FormControl(''));\r\n    this.nameForm.setControl('id', new FormControl(-1));\r\n    this.typeForm.setControl('type', new FormControl(''));\r\n    this.typeForm.setControl('id', new FormControl(-1));\r\n    this.modelForm.setControl('name', new FormControl(''));\r\n    this.modelForm.setControl('id', new FormControl(-1));\r\n    this.modelForm.setControl('markId', new FormControl(-1));\r\n  }\r\n\r\n\r\n  deleteMark(mark) {\r\n    this.codebookService.deleteMark(mark).subscribe(\r\n      () => {\r\n        this._toastr.success(\"Mark deleted\", \"Success\");\r\n        this.marks.splice(this.marks.indexOf(mark), 1);\r\n      },\r\n      error => this._toastr.error(\"Error while deleting mark\", \"Error\")\r\n    );\r\n  }\r\n\r\n  deleteModel(model) {\r\n    this.codebookService.deleteModel(model).subscribe(\r\n      () => {\r\n        this._toastr.success(\"Model deleted\", \"Success\");\r\n        this.models.splice(this.models.indexOf(model), 1);\r\n      },\r\n      error => this._toastr.error(\"Error while deleting model\", \"Error\")\r\n    );\r\n  }\r\n\r\n  deleteFuel(fuel) {\r\n    this.codebookService.deleteFuel(fuel).subscribe(\r\n      () => {\r\n        this._toastr.success(\"Fuel deleted\", \"Success\");\r\n        this.fuels.splice(this.fuels.indexOf(fuel), 1);\r\n      },\r\n      error => this._toastr.error(\"Error while deleting fuel\", \"Error\")\r\n    );\r\n  }\r\n\r\n  deleteGearbox(gearbox) {\r\n    this.codebookService.deleteGearbox(gearbox).subscribe(\r\n      () => {\r\n        this._toastr.success(\"Gearbox deleted\", \"Success\");\r\n        this.gearboxes.splice(this.gearboxes.indexOf(gearbox), 1);\r\n      },\r\n      error => this._toastr.error(\"Error while deleting gearbox\", \"Error\")\r\n    );\r\n  }\r\n\r\n  deleteCarclass(carclass) {\r\n    this.codebookService.deleteCarclass(carclass).subscribe(\r\n      () => {\r\n        this._toastr.success(\"Carclass deleted\", \"Success\");\r\n        this.carclasses.splice(this.carclasses.indexOf(carclass), 1);\r\n      },\r\n      error => this._toastr.error(\"Error while deleting carclass\", \"Error\")\r\n    );\r\n  }\r\n}\r\n","<div class=\"container\">\r\n   <div class=\"col justify-content-center\">\r\n      <ul class=\"nav nav-tabs\">\r\n         <li class=\"nav-item active\">\r\n            <a class=\"nav-link active\" data-toggle=\"pill\" href=\"#mark\">Mark</a>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" data-toggle=\"pill\" href=\"#model\">Model</a>\r\n         </li>\r\n\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" data-toggle=\"pill\" href=\"#fuel\">Fuel</a>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" data-toggle=\"pill\" href=\"#gearbox\">Gearbox</a>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" data-toggle=\"pill\" href=\"#carclass\"\r\n               >Car class</a\r\n            >\r\n         </li>\r\n      </ul>\r\n      <div class=\"tab-content\">\r\n         <div id=\"mark\" class=\"tab-pane fade show active\">\r\n            <div class=\"container\">\r\n               <div>\r\n                  <button\r\n                     type=\"button\"\r\n                     class=\"btn btn-success btn-sm m-2\"\r\n                     data-toggle=\"modal\"\r\n                     data-target=\"#markModal\"\r\n                     (click)=\"newNotEdit()\"\r\n                  >\r\n                     New\r\n                  </button>\r\n               </div>\r\n               <div>\r\n                  <table class=\"table table-hover\">\r\n                     <thead class=\"thead-dark\">\r\n                        <tr>\r\n                           <th scope=\"col\">#</th>\r\n                           <th scope=\"col\">Name</th>\r\n                           <th scope=\"col\">Edit</th>\r\n                           <th scope=\"col\">Delete</th>\r\n                        </tr>\r\n                     </thead>\r\n                     <tbody>\r\n                        <tr *ngFor=\"let mark of marks; let i = index\">\r\n                           <td>{{ i + 1 }}</td>\r\n                           <td>{{ mark.name }}</td>\r\n                           <td>\r\n                              <button\r\n                                 class=\"btn btn-info btn-sm\"\r\n                                 data-toggle=\"modal\"\r\n                                 data-target=\"#markModal\"\r\n                                 (click)=\"setMark(mark)\"\r\n                              >\r\n                                 Edit\r\n                              </button>\r\n                           </td>\r\n                           <td>\r\n                              <button\r\n                                 class=\"btn btn-danger btn-sm\"\r\n                                 (click)=\"deleteMark(mark)\"\r\n                              >\r\n                                 Delete\r\n                              </button>\r\n                           </td>\r\n                        </tr>\r\n                     </tbody>\r\n                  </table>\r\n               </div>\r\n            </div>\r\n         </div>\r\n         <div id=\"model\" class=\"tab-pane fade show\">\r\n            <div class=\"container\">\r\n               <div>\r\n                  <button\r\n                     type=\"button\"\r\n                     class=\"btn btn-success btn-sm m-2\"\r\n                     data-toggle=\"modal\"\r\n                     data-target=\"#modelModal\"\r\n                     (click)=\"newNotEdit()\"\r\n                  >\r\n                     New\r\n                  </button>\r\n               </div>\r\n               <div>\r\n                  <table class=\"table table-hover\">\r\n                     <thead class=\"thead-dark\">\r\n                        <tr>\r\n                           <th scope=\"col\">#</th>\r\n                           <th scope=\"col\">Mark name</th>\r\n                           <th scope=\"col\">Name</th>\r\n                           <th scope=\"col\">Edit</th>\r\n                           <th scope=\"col\">Delete</th>\r\n                        </tr>\r\n                     </thead>\r\n                     <tbody>\r\n                        <tr *ngFor=\"let model of models; let i = index\">\r\n                           <td>{{ i + 1 }}</td>\r\n                           <td>{{ model.mark.name }}</td>\r\n                           <td>{{ model.name }}</td>\r\n                           <td>\r\n                              <button\r\n                                 class=\"btn btn-info btn-sm\"\r\n                                 data-toggle=\"modal\"\r\n                                 data-target=\"#modelModal\"\r\n                                 (click)=\"setModel(model)\"\r\n                              >\r\n                                 Edit\r\n                              </button>\r\n                           </td>\r\n                           <td>\r\n                              <button\r\n                                 class=\"btn btn-danger btn-sm\"\r\n                                 (click)=\"deleteModel(model)\"\r\n                              >\r\n                                 Delete\r\n                              </button>\r\n                           </td>\r\n                        </tr>\r\n                     </tbody>\r\n                  </table>\r\n               </div>\r\n            </div>\r\n         </div>\r\n         <div id=\"fuel\" class=\"tab-pane fade show\">\r\n            <div class=\"container\">\r\n               <div>\r\n                  <button\r\n                     type=\"button\"\r\n                     class=\"btn btn-success btn-sm m-2\"\r\n                     data-toggle=\"modal\"\r\n                     data-target=\"#fuelModal\"\r\n                     (click)=\"newNotEdit()\"\r\n                  >\r\n                     New\r\n                  </button>\r\n               </div>\r\n               <div>\r\n                  <table class=\"table table-hover\">\r\n                     <thead class=\"thead-dark\">\r\n                        <tr>\r\n                           <th scope=\"col\">#</th>\r\n                           <th scope=\"col\">Type</th>\r\n                           <th scope=\"col\">Edit</th>\r\n                           <th scope=\"col\">Delete</th>\r\n                        </tr>\r\n                     </thead>\r\n                     <tbody>\r\n                        <tr *ngFor=\"let fuel of fuels; let i = index\">\r\n                           <td>{{ i + 1 }}</td>\r\n                           <td>{{ fuel.type }}</td>\r\n                           <td>\r\n                              <button\r\n                                 class=\"btn btn-info btn-sm\"\r\n                                 data-toggle=\"modal\"\r\n                                 data-target=\"#fuelModal\"\r\n                                 (click)=\"setFuel(fuel)\"\r\n                              >\r\n                                 Edit\r\n                              </button>\r\n                           </td>\r\n                           <td>\r\n                              <button\r\n                                 class=\"btn btn-danger btn-sm\"\r\n                                 (click)=\"deleteFuel(fuel)\"\r\n                              >\r\n                                 Delete\r\n                              </button>\r\n                           </td>\r\n                        </tr>\r\n                     </tbody>\r\n                  </table>\r\n               </div>\r\n            </div>\r\n         </div>\r\n         <div id=\"gearbox\" class=\"tab-pane fade show\">\r\n            <div class=\"container\">\r\n               <div>\r\n                  <button\r\n                     type=\"button\"\r\n                     class=\"btn btn-success btn-sm m-2\"\r\n                     data-toggle=\"modal\"\r\n                     data-target=\"#gearboxModal\"\r\n                     (click)=\"newNotEdit()\"\r\n                  >\r\n                     New\r\n                  </button>\r\n               </div>\r\n               <div>\r\n                  <table class=\"table table-hover\">\r\n                     <thead class=\"thead-dark\">\r\n                        <tr>\r\n                           <th scope=\"col\">#</th>\r\n                           <th scope=\"col\">Type</th>\r\n                           <th scope=\"col\">Edit</th>\r\n                           <th scope=\"col\">Delete</th>\r\n                        </tr>\r\n                     </thead>\r\n                     <tbody>\r\n                        <tr *ngFor=\"let gearbox of gearboxes; let i = index\">\r\n                           <td>{{ i + 1 }}</td>\r\n                           <td>{{ gearbox.type }}</td>\r\n                           <td>\r\n                              <button\r\n                                 class=\"btn btn-info btn-sm\"\r\n                                 data-toggle=\"modal\"\r\n                                 data-target=\"#gearboxModal\"\r\n                                 (click)=\"setGearbox(gearbox)\"\r\n                              >\r\n                                 Edit\r\n                              </button>\r\n                           </td>\r\n                           <td>\r\n                              <button\r\n                                 class=\"btn btn-danger btn-sm\"\r\n                                 (click)=\"deleteGearbox(gearbox)\"\r\n                              >\r\n                                 Delete\r\n                              </button>\r\n                           </td>\r\n                        </tr>\r\n                     </tbody>\r\n                  </table>\r\n               </div>\r\n            </div>\r\n         </div>\r\n         <div id=\"carclass\" class=\"tab-pane fade show\">\r\n            <div class=\"container\">\r\n               <div>\r\n                  <button\r\n                     type=\"button\"\r\n                     class=\"btn btn-success btn-sm m-2\"\r\n                     data-toggle=\"modal\"\r\n                     data-target=\"#carclassModal\"\r\n                     (click)=\"newNotEdit()\"\r\n                  >\r\n                     New\r\n                  </button>\r\n               </div>\r\n               <div>\r\n                  <table class=\"table table-hover\">\r\n                     <thead class=\"thead-dark\">\r\n                        <tr>\r\n                           <th scope=\"col\">#</th>\r\n                           <th scope=\"col\">Name</th>\r\n                           <th scope=\"col\">Edit</th>\r\n                           <th scope=\"col\">Delete</th>\r\n                        </tr>\r\n                     </thead>\r\n                     <tbody>\r\n                        <tr *ngFor=\"let carclass of carclasses; let i = index\">\r\n                           <td>{{ i + 1 }}</td>\r\n                           <td>{{ carclass.name }}</td>\r\n                           <td>\r\n                              <button\r\n                                 class=\"btn btn-info btn-sm\"\r\n                                 data-toggle=\"modal\"\r\n                                 data-target=\"#carclassModal\"\r\n                                 (click)=\"setCarclass(carclass)\"\r\n                              >\r\n                                 Edit\r\n                              </button>\r\n                           </td>\r\n                           <td>\r\n                              <button\r\n                                 class=\"btn btn-danger btn-sm\"\r\n                                 (click)=\"deleteCarclass(carclass)\"\r\n                              >\r\n                                 Delete\r\n                              </button>\r\n                           </td>\r\n                        </tr>\r\n                     </tbody>\r\n                  </table>\r\n               </div>\r\n            </div>\r\n         </div>\r\n      </div>\r\n   </div>\r\n   <!-- Modal -->\r\n   <div\r\n      class=\"modal fade\"\r\n      id=\"markModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n   >\r\n      <div class=\"modal-dialog\">\r\n         <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n               <h5 class=\"modal-title\" id=\"exampleModalLabel\">Title</h5>\r\n               <button\r\n                  type=\"button\"\r\n                  class=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n               >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n               </button>\r\n            </div>\r\n            <form\r\n               [formGroup]=\"markForm\"\r\n               (ngSubmit)=\"nameSubmit(markForm.value)\"\r\n            >\r\n               <div class=\"modal-body\">\r\n                  <div class=\"form-group\">\r\n                     <label for=\"message-text\" class=\"col-form-label\"\r\n                        >Name:</label\r\n                     >\r\n                     <textarea\r\n                        class=\"form-control\"\r\n                        id=\"message-text\"\r\n                        formControlName=\"name\"\r\n                     ></textarea>\r\n                  </div>\r\n               </div>\r\n               <div class=\"modal-footer\">\r\n                  <button\r\n                     type=\"button\"\r\n                     class=\"btn btn-secondary\"\r\n                     data-dismiss=\"modal\"\r\n                     #closebuttonmark\r\n                  >\r\n                     Close\r\n                  </button>\r\n                  <button type=\"submit\" class=\"btn btn-primary\">\r\n                     Submit\r\n                  </button>\r\n               </div>\r\n            </form>\r\n         </div>\r\n      </div>\r\n   </div>\r\n   <!-- Modal -->\r\n   <div\r\n      class=\"modal fade\"\r\n      id=\"modelModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n   >\r\n      <div class=\"modal-dialog\">\r\n         <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n               <h5 class=\"modal-title\" id=\"exampleModalLabel\">Model</h5>\r\n               <button\r\n                  type=\"button\"\r\n                  class=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n               >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n               </button>\r\n            </div>\r\n            <form\r\n               [formGroup]=\"modelForm\"\r\n               (ngSubmit)=\"modelSubmit(modelForm.value)\"\r\n            >\r\n               <div class=\"modal-body\">\r\n                  <div class=\"form-group\">\r\n                     <label for=\"message-text\" class=\"col-form-label\"\r\n                        >Name:</label\r\n                     >\r\n                     <textarea\r\n                        class=\"form-control\"\r\n                        id=\"message-text\"\r\n                        formControlName=\"name\"\r\n                     ></textarea>\r\n                  </div>\r\n                  <div class=\"form-group\">\r\n                     <label for=\"mark-select\" class=\"col-form-label\"\r\n                        >Mark:</label\r\n                     >\r\n                     <select\r\n                        name=\"form-control\"\r\n                        id=\"mark-select\"\r\n                        formControlName=\"markId\"\r\n                     >\r\n                        <option *ngFor=\"let mark of marks\" [value]=\"mark.id\">{{\r\n                           mark.name\r\n                        }}</option>\r\n                     </select>\r\n                  </div>\r\n               </div>\r\n               <div class=\"modal-footer\">\r\n                  <button\r\n                     type=\"button\"\r\n                     class=\"btn btn-secondary\"\r\n                     data-dismiss=\"modal\"\r\n                     #closebuttonmodel\r\n                  >\r\n                     Close\r\n                  </button>\r\n                  <button type=\"submit\" class=\"btn btn-primary\">\r\n                     Submit\r\n                  </button>\r\n               </div>\r\n            </form>\r\n         </div>\r\n      </div>\r\n   </div>\r\n   <!-- Modal -->\r\n   <div\r\n      class=\"modal fade\"\r\n      id=\"fuelModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n   >\r\n      <div class=\"modal-dialog\">\r\n         <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n               <h5 class=\"modal-title\" id=\"exampleModalLabel\">Title</h5>\r\n               <button\r\n                  type=\"button\"\r\n                  class=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n               >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n               </button>\r\n            </div>\r\n            <form\r\n               [formGroup]=\"fuelForm\"\r\n               (ngSubmit)=\"fuelSubmit(fuelForm.value)\"\r\n            >\r\n               <div class=\"modal-body\">\r\n                  <div class=\"form-group\">\r\n                     <label for=\"message-text\" class=\"col-form-label\"\r\n                        >Type:</label\r\n                     >\r\n                     <textarea\r\n                        class=\"form-control\"\r\n                        id=\"message-text\"\r\n                        formControlName=\"type\"\r\n                     ></textarea>\r\n                  </div>\r\n               </div>\r\n               <div class=\"modal-footer\">\r\n                  <button\r\n                     type=\"button\"\r\n                     class=\"btn btn-secondary\"\r\n                     data-dismiss=\"modal\"\r\n                     #closebuttonfuel\r\n                  >\r\n                     Close\r\n                  </button>\r\n                  <button type=\"submit\" class=\"btn btn-primary\">\r\n                     Submit\r\n                  </button>\r\n               </div>\r\n            </form>\r\n         </div>\r\n      </div>\r\n   </div>\r\n   <!-- Modal -->\r\n   <div\r\n      class=\"modal fade\"\r\n      id=\"gearboxModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n   >\r\n      <div class=\"modal-dialog\">\r\n         <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n               <h5 class=\"modal-title\" id=\"exampleModalLabel\">Title</h5>\r\n               <button\r\n                  type=\"button\"\r\n                  class=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n               >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n               </button>\r\n            </div>\r\n            <form\r\n               [formGroup]=\"typeForm\"\r\n               (ngSubmit)=\"gearboxSubmit(typeForm.value)\"\r\n            >\r\n               <div class=\"modal-body\">\r\n                  <div class=\"form-group\">\r\n                     <label for=\"message-text\" class=\"col-form-label\"\r\n                        >Type:</label\r\n                     >\r\n                     <textarea\r\n                        class=\"form-control\"\r\n                        id=\"message-text\"\r\n                        formControlName=\"type\"\r\n                     ></textarea>\r\n                  </div>\r\n               </div>\r\n               <div class=\"modal-footer\">\r\n                  <button\r\n                     type=\"button\"\r\n                     class=\"btn btn-secondary\"\r\n                     data-dismiss=\"modal\"\r\n                     #closebuttongearbox\r\n                  >\r\n                     Close\r\n                  </button>\r\n                  <button type=\"submit\" class=\"btn btn-primary\">\r\n                     Submit\r\n                  </button>\r\n               </div>\r\n            </form>\r\n         </div>\r\n      </div>\r\n   </div>\r\n   <!-- Modal -->\r\n   <div\r\n      class=\"modal fade\"\r\n      id=\"carclassModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n   >\r\n      <div class=\"modal-dialog\">\r\n         <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n               <h5 class=\"modal-title\" id=\"exampleModalLabel\">Title</h5>\r\n               <button\r\n                  type=\"button\"\r\n                  class=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n               >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n               </button>\r\n            </div>\r\n            <form\r\n               [formGroup]=\"nameForm\"\r\n               (ngSubmit)=\"carclassSubmit(nameForm.value)\"\r\n            >\r\n               <div class=\"modal-body\">\r\n                  <div class=\"form-group\">\r\n                     <label for=\"message-text\" class=\"col-form-label\"\r\n                        >Name:</label\r\n                     >\r\n                     <textarea\r\n                        class=\"form-control\"\r\n                        id=\"message-text\"\r\n                        formControlName=\"name\"\r\n                     ></textarea>\r\n                  </div>\r\n               </div>\r\n               <div class=\"modal-footer\">\r\n                  <button\r\n                     type=\"button\"\r\n                     class=\"btn btn-secondary\"\r\n                     data-dismiss=\"modal\"\r\n                     #closebuttoncarclass\r\n                  >\r\n                     Close\r\n                  </button>\r\n                  <button type=\"submit\" class=\"btn btn-primary\">\r\n                     Submit\r\n                  </button>\r\n               </div>\r\n            </form>\r\n         </div>\r\n      </div>\r\n   </div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Mark } from './mark.car';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Model } from './model.car';\r\nimport { Fuel } from './fuel.car';\r\nimport { Gearbox } from './gearbox.car';\r\nimport { Carclass } from './carclass.car';\r\nimport { FormBuilder } from '@angular/forms';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CodebookService {\r\n  constructor(private http: HttpClient) {\r\n  }\r\n\r\n  getMarks() {\r\n    return this.http.get<Mark[]>(environment.api + \"/car/mark\");\r\n  }\r\n\r\n  getModels() {\r\n    return this.http.get<Model[]>(environment.api + \"/car/model\");\r\n  }\r\n\r\n  getFuels() {\r\n    return this.http.get<Fuel[]>(environment.api + \"/car/fuel\");\r\n  }\r\n\r\n  getGearboxes() {\r\n    return this.http.get<Gearbox[]>(environment.api + \"/car/gearbox\");\r\n  }\r\n\r\n  getCarClasses() {\r\n    return this.http.get<Carclass[]>(environment.api + \"/car/carclass\");\r\n  }\r\n\r\n  postNewMark(mark) {\r\n    return this.http.post(environment.api + \"/car/mark\", mark);\r\n  }\r\n\r\n  postNewModel(model) {\r\n    return this.http.post(environment.api + \"/car/model\", model);\r\n  }\r\n\r\n  postNewFuel(fuel) {\r\n    return this.http.post(environment.api + \"/car/fuel\", fuel);\r\n  }\r\n\r\n  postNewGearbox(gearbox) {\r\n    return this.http.post(environment.api + \"/car/gearbox\", gearbox);\r\n  }\r\n\r\n  postNewCarclass(carclass) {\r\n    return this.http.post(environment.api + \"/car/carclass\", carclass);\r\n  }\r\n\r\n  changeMark(mark) {\r\n    return this.http.put(environment.api + \"/car/mark\", mark);\r\n  }\r\n\r\n  changeModel(model) {\r\n    return this.http.put(environment.api + \"/car/model\", model);\r\n  }\r\n\r\n  changeFuel(fuel) {\r\n    return this.http.put(environment.api + \"/car/fuel\", fuel);\r\n  }\r\n\r\n  changeGearbox(gearbox) {\r\n    return this.http.put(environment.api + \"/car/gearbox\", gearbox);\r\n  }\r\n\r\n  changeCarclass(carclass) {\r\n    return this.http.put(environment.api + \"/car/carclass\", carclass);\r\n  }\r\n\r\n  deleteMark(mark) {\r\n    return this.http.delete(environment.api + \"/car/mark/\" + mark.id);\r\n  }\r\n\r\n  deleteModel(model) {\r\n    return this.http.delete(environment.api + \"/car/model/\" + model.id);\r\n  }\r\n\r\n  deleteFuel(fuel) {\r\n    return this.http.delete(environment.api + \"/car/fuel/\" + fuel.id);\r\n  }\r\n\r\n  deleteGearbox(gearbox) {\r\n    return this.http.delete(environment.api + \"/car/gearbox/\" + gearbox.id);\r\n  }\r\n\r\n  deleteCarclass(carclass) {\r\n    return this.http.delete(environment.api + \"/car/carclass/\" + carclass.id);\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { CarInfo } from '../shared/carInfo';\r\nimport { Fuel } from '../shared/fuel';\r\nimport { Gearbox } from '../shared/gearbox';\r\nimport { CarClass } from '../shared/carclass';\r\nimport { CarService } from '../shared/car.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Location } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-edit-car',\r\n  templateUrl: './edit-car.component.html',\r\n  styleUrls: ['./edit-car.component.css']\r\n})\r\nexport class EditCarComponent implements OnInit {\r\n  car: CarInfo;\r\n  fuels: Fuel[];\r\n  gearboxes: Gearbox[];\r\n  carClasses: CarClass[];\r\n  car_id: number;\r\n  private sub: any;\r\n  average_grade: number;\r\n \r\n\r\n  constructor(private carService: CarService,\r\n              private route: ActivatedRoute,\r\n              private router: Router,\r\n              private _toastr: ToastrService,\r\n              private _location: Location) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getData();\r\n  }\r\n\r\n  getData(): void {\r\n    this.sub = this.route.params.subscribe(params => {\r\n      this.car_id = +params['id'];});\r\n\r\n    this.carService.getCarById(this.car_id)\r\n      .subscribe((data: CarInfo) => {\r\n        this.car = data;\r\n        this.average_grade = this.car.overallGrade / this.car.numberGrades;\r\n      });\r\n\r\n    this.carService.getCarGearboxes()\r\n      .subscribe((data: Gearbox[]) => this.gearboxes = data);\r\n\r\n    this.carService.getCarFuels()\r\n      .subscribe((data: Fuel[]) => this.fuels = data);\r\n\r\n    this.carService.getCarCarClasses()\r\n      .subscribe((data: CarClass[]) => this.carClasses = data);\r\n\r\n  }\r\n\r\n  onSubmit(): void {\r\n    this.carService.editCar(this.car).subscribe(\r\n      data =>{\r\n        this._toastr.success(\"Car successfully updated\",\"Car\");\r\n        this._location.back();\r\n      }\r\n    );\r\n  }\r\n\r\n  back() {\r\n    this._location.back();\r\n  }\r\n\r\n}\r\n","<div class=\"d-flex justify-content-center\">\r\n        <div class=\"d-flex flex-column\">\r\n            <div class=\"d-flex flex-row\" style=\"margin-top: 5px;\">\r\n                <button class=\"btn btn-outline-info\" (click)=\"back()\">Back</button>\r\n             </div>\r\n            <h1> {{car.mark.name}}  {{car.model.name}} </h1>\r\n            <h6> Kilometrage: {{car.kilometrage}} km</h6>\r\n            <h6> Average grade: {{average_grade}} </h6>\r\n\r\n            <br>\r\n            <label>Fuel</label>\r\n            <select class=\"form-control\" [(ngModel)]= \"car.fuel\" id=\"carClass\">\r\n                <option *ngFor=\"let fuel of fuels\" [ngValue]=\"fuel\">{{fuel.type}}</option>\r\n             </select>\r\n\r\n            <br>\r\n            <label>Class</label>\r\n            <select class=\"form-control\" [(ngModel)]= \"car.carClass\" id=\"carClass\">\r\n                <option *ngFor=\"let class of carClasses\" [ngValue]=\"class\">{{class.name}}</option>\r\n             </select>\r\n\r\n            <br>\r\n            <label>Gearbox</label>\r\n            <select class=\"form-control\" [(ngModel)]= \"car.gearbox\" id=\"carClass\">\r\n                <option *ngFor=\"let gearbox of gearboxes\" [ngValue]=\"gearbox\">{{gearbox.type}}</option>\r\n             </select>\r\n\r\n            <br>\r\n            <label>Number of child seats</label>\r\n            <input [(ngModel)] = \"car.numberOfChildSeats\" type=\"number\" min=\"0\" name=\"kiloemtrageFrom\" id=\"kiloemtrageFrom\" class=\"form-control\"/>\r\n\r\n\r\n            <br>\r\n            <div class=\"col-sm\">\r\n                <input [(ngModel)] = \"car.hasAndroid\" type=\"checkbox\" name=\"cdw\" id=\"cdw\" class=\"form-control\"/>\r\n\r\n                <label\r\n                    class=\"form-check-label\"\r\n                >It has android</label>\r\n            </div>\r\n\r\n            <br>\r\n            <button  \r\n                class=\"btn btn-primary\"\r\n                type=\"submit\"\r\n                (click) = \"onSubmit()\"\r\n            >\r\n                Submit\r\n            </button>\r\n        </div>\r\n\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { CarService } from 'src/app/car/shared/car.service';\r\nimport { CarClass } from 'src/app/car/shared/carclass';\r\nimport { Fuel } from 'src/app/car/shared/fuel';\r\nimport { Gearbox } from 'src/app/car/shared/gearbox';\r\nimport { Mark } from 'src/app/car/shared/mark';\r\nimport { Model } from 'src/app/car/shared/model';\r\nimport { MyImage } from '../shared/my-image';\r\nimport { PriceList } from '../shared/priceList';\r\n\r\n@Component({\r\n  selector: 'app-new-car',\r\n  templateUrl: './new-car.component.html',\r\n  styleUrls: ['./new-car.component.css']\r\n})\r\nexport class NewCarComponent implements OnInit {\r\n  newCarForm;\r\n  models: Model[];\r\n  marks: Mark[];\r\n  fuels: Fuel[];\r\n  gearboxes: Gearbox[];\r\n  carClasses: CarClass[];\r\n  imageFiles = [];\r\n  imageURLs: MyImage[] = [];\r\n  selectedMark: Mark;\r\n  priceLists: PriceList[];\r\n\r\n  constructor(private formBuilder: FormBuilder, private carService: CarService) {\r\n    this.newCarForm = this.formBuilder.group({\r\n      markId: -1,\r\n      modelId: -1,\r\n      fuelId: -1,\r\n      gearboxId: -1,\r\n      carClassId: -1,\r\n      kilometrage: 0,\r\n      numberOfChildSeats: 0,\r\n      pickUpPlace: '',\r\n      fromDate: '',\r\n      toDate: '',\r\n      allowedKilometrage: 0,\r\n      priceListId: -1,\r\n      cdw: false,\r\n      isAllowed: false\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getData();\r\n  }\r\n\r\n  onSubmit(userData) {\r\n    this.newCarForm.value.images = [];\r\n    // for (var i = 0; i < this.imageFiles.length; i++) {\r\n    // this.newCarForm.value.images.push(this.imageFiles[i]);\r\n    // }\r\n    userData.images = this.imageURLs;\r\n    this.carService.postNewAd(userData).subscribe(() => alert(\"success!\"));\r\n    this.newCarForm.reset();\r\n  }\r\n\r\n  getData() {\r\n    this.carService.getCarModels()\r\n      .subscribe((data: Model[]) => this.models = data);\r\n    this.carService.getCarMarks()\r\n      .subscribe((data: Mark[]) => this.marks = data);\r\n    this.carService.getCarGearboxes()\r\n      .subscribe((data: Gearbox[]) => this.gearboxes = data);\r\n    this.carService.getCarFuels()\r\n      .subscribe((data: Fuel[]) => this.fuels = data);\r\n    this.carService.getCarCarClasses()\r\n      .subscribe((data: CarClass[]) => this.carClasses = data);\r\n    this.carService.getPriceLists()\r\n      .subscribe((data: PriceList[]) => this.priceLists = data);\r\n    // pricelist\r\n  }\r\n\r\n  markChange() {\r\n    this.marks.forEach(element => {\r\n      if (element.id == this.newCarForm.value.markId) {\r\n        this.selectedMark = element\r\n      }\r\n    });\r\n  }\r\n\r\n  fileUpload(event) {\r\n    if (event.target.files && event.target.files[0]) {\r\n      var filesAmount = event.target.files.length;\r\n      for (let i = 0; i < filesAmount; i++) {\r\n        var reader = new FileReader();\r\n\r\n        this.imageFiles.push(event.target.files[i]);\r\n        reader.onload = (event: any) => {\r\n          console.log(event.target.result)\r\n          this.imageURLs.push(event.target.result);\r\n        }\r\n\r\n        reader.readAsDataURL(event.target.files[i]);\r\n      }\r\n    }\r\n  }\r\n}","<div class=\"d-flex p-2 justify-content-center\">\r\n   <form\r\n      [formGroup]=\"newCarForm\"\r\n      class=\"needs-validation col-sm-8\"\r\n      (ngSubmit)=\"onSubmit(newCarForm.value)\"\r\n   >\r\n      <div class=\"form-row\">\r\n         <div class=\"form-group col-sm-6\">\r\n            <label for=\"mark\">Mark</label>\r\n            <select\r\n               class=\"form-control\"\r\n               formControlName=\"markId\"\r\n               id=\"mark\"\r\n               (change)=\"markChange()\"\r\n            >\r\n               <option *ngFor=\"let mark of marks\" [value]=\"mark.id\">{{\r\n                  mark.name\r\n               }}</option>\r\n            </select>\r\n         </div>\r\n         <div class=\"form-group col-sm-6\">\r\n            <label for=\"model\">Model</label>\r\n            <select\r\n               class=\"form-control\"\r\n               formControlName=\"modelId\"\r\n               id=\"model\"\r\n               *ngIf=\"selectedMark\"\r\n            >\r\n               <option\r\n                  *ngFor=\"let model of selectedMark.models\"\r\n                  [value]=\"model.id\"\r\n                  >{{ model.name }}</option\r\n               >\r\n            </select>\r\n         </div>\r\n      </div>\r\n      <div class=\"form-row\">\r\n         <div class=\"form-group col-sm-6\">\r\n            <label for=\"fuel\">Fuel</label>\r\n            <select class=\"form-control\" formControlName=\"fuelId\" id=\"fuel\">\r\n               <option *ngFor=\"let fuel of fuels\" [value]=\"fuel.id\">{{\r\n                  fuel.type\r\n               }}</option>\r\n            </select>\r\n         </div>\r\n         <div class=\"form-group col-sm-6\">\r\n            <label for=\"gearbox\">Gearbox</label>\r\n            <select\r\n               class=\"form-control\"\r\n               formControlName=\"gearboxId\"\r\n               id=\"gearbox\"\r\n            >\r\n               <option *ngFor=\"let gearbox of gearboxes\" [value]=\"gearbox.id\">{{\r\n                  gearbox.type\r\n               }}</option>\r\n            </select>\r\n         </div>\r\n      </div>\r\n      <div class=\"form-row\">\r\n         <div class=\"form-group col-sm-6\">\r\n            <label for=\"carClass\">Class</label>\r\n            <select\r\n               class=\"form-control\"\r\n               formControlName=\"carClassId\"\r\n               id=\"carClass\"\r\n            >\r\n               <option *ngFor=\"let class of carClasses\" [value]=\"class.id\">{{\r\n                  class.name\r\n               }}</option>\r\n            </select>\r\n         </div>\r\n         <div class=\"form-group col-sm-6\">\r\n            <label for=\"kilometrage\">Kilometrage</label>\r\n            <input\r\n               type=\"number\"\r\n               formControlName=\"kilometrage\"\r\n               name=\"kilometrage\"\r\n               id=\"kilometrage\"\r\n               class=\"form-control\"\r\n            />\r\n         </div>\r\n      </div>\r\n      <div class=\"form-row\">\r\n         <div class=\"form-group col-sm-6\">\r\n            <label for=\"kilometrage\">Number of child seats</label>\r\n            <input\r\n               type=\"number\"\r\n               formControlName=\"numberOfChildSeats\"\r\n               id=\"numberOfChildSeats\"\r\n               class=\"form-control\"\r\n            />\r\n         </div>\r\n         <div class=\"form-group col-sm-6\">\r\n            <label for=\"pickUpPlace\">Pick up place</label>\r\n            <input\r\n               type=\"text\"\r\n               formControlName=\"pickUpPlace\"\r\n               id=\"pickUpPlace\"\r\n               class=\"form-control\"\r\n            />\r\n         </div>\r\n      </div>\r\n      <div class=\"form-row\">\r\n         <div class=\"form-group col-sm-6\">\r\n            <label for=\"fromDate\">From date</label>\r\n            <input\r\n               type=\"date\"\r\n               formControlName=\"fromDate\"\r\n               id=\"fromDate\"\r\n               class=\"form-control\"\r\n            />\r\n         </div>\r\n         <div class=\"form-group col-sm-6\">\r\n            <label for=\"toDate\">To date</label>\r\n            <input\r\n               type=\"date\"\r\n               formControlName=\"toDate\"\r\n               id=\"toDate\"\r\n               class=\"form-control\"\r\n            />\r\n         </div>\r\n      </div>\r\n      <div class=\"form-row\">\r\n         <div\r\n            class=\"form-check col-sm-6 align-self-center justify-content-center\"\r\n         >\r\n            <div class=\"col-sm-8\">\r\n               <input\r\n                  class=\"form-check-input\"\r\n                  type=\"checkbox\"\r\n                  value=\"false\"\r\n                  id=\"isAllowed\"\r\n                  formControlName=\"isAllowed\"\r\n               />\r\n               <label class=\"form-check-label\" for=\"isAllowed\">\r\n                  Is kilometrage fixed?\r\n               </label>\r\n            </div>\r\n         </div>\r\n         <div class=\"form-group col-sm-6\">\r\n            <label for=\"allowedKilometrage\">Allowed kilometrage</label>\r\n            <input\r\n               [attr.disabled]=\"newCarForm.value.isAllowed ? null : ''\"\r\n               type=\"number\"\r\n               formControlName=\"allowedKilometrage\"\r\n               name=\"allowedKilometrage\"\r\n               id=\"allowedKilometrage\"\r\n               class=\"form-control\"\r\n            />\r\n         </div>\r\n      </div>\r\n      <div class=\"form-row\">\r\n         <div class=\"form-check col-sm-6 align-self-center\">\r\n            <div class=\"col-sm-8 justify-self-center\">\r\n               <input\r\n                  class=\"form-check-input\"\r\n                  type=\"checkbox\"\r\n                  value=\"false\"\r\n                  id=\"cdw\"\r\n                  formControlName=\"cdw\"\r\n               />\r\n               <label class=\"form-check-label\" for=\"cdw\">\r\n                  Collision damage waiver\r\n               </label>\r\n            </div>\r\n         </div>\r\n         <div class=\"form-group col-sm-6\">\r\n            <label for=\"pricelist\">Pricelist</label>\r\n            <select\r\n               class=\"form-control\"\r\n               formControlName=\"priceListId\"\r\n               id=\"pricelist\"\r\n            >\r\n               <option *ngFor=\"let price of priceLists\" [value]=\"price.id\">{{\r\n                  \"Per day: \" +\r\n                     price.perDay +\r\n                     \", cdw: \" +\r\n                     price.cdw +\r\n                     \", extra: \" +\r\n                     price.extraKilometrage\r\n               }}</option>\r\n            </select>\r\n         </div>\r\n      </div>\r\n      <div class=\"form-row\">\r\n         <div class=\"form-group col-sm-6\">\r\n            <label for=\"Images\">Images</label>\r\n            <input\r\n               type=\"file\"\r\n               id=\"image\"\r\n               accept=\"image/*\"\r\n               class=\"form-control\"\r\n               multiple\r\n               (change)=\"fileUpload($event)\"\r\n            />\r\n         </div>\r\n         <div class=\"col-sm-6\">\r\n            <img\r\n               *ngFor=\"let url of imageURLs\"\r\n               [src]=\"url\"\r\n               style=\"max-width: 100px; max-height: 100px;\"\r\n            />\r\n         </div>\r\n      </div>\r\n\r\n      <button type=\"submit\" class=\"btn btn-primary\">\r\n         Submit\r\n      </button>\r\n   </form>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { OccupationService } from '../shared/occupation.service';\r\nimport { CarService } from '../shared/car.service';\r\nimport { CarInfo } from '../shared/carInfo';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Occupied } from '../shared/occupied';\r\n\r\n@Component({\r\n  selector: 'app-occupation',\r\n  templateUrl: './occupation.component.html',\r\n  styleUrls: ['./occupation.component.css']\r\n})\r\nexport class OccupationComponent implements OnInit {\r\n  newOccupationForm;\r\n  cars : CarInfo[];\r\n  occupations: Occupied[];\r\n  selectedOccupation: Occupied;\r\n\r\n  constructor(private formBuilder: FormBuilder,\r\n              private occupationService: OccupationService,\r\n              private carService: CarService,\r\n              private _toastr: ToastrService) {\r\n    this.selectedOccupation = {\r\n      dateFrom: null,\r\n      dateTo: null,\r\n      carId: -1,\r\n      id: null,\r\n      car: null,\r\n      adsId: null\r\n    };\r\n   }\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.occupationService.getOccupations(localStorage.getItem('Username')).subscribe(\r\n      data =>{\r\n        this.occupations = data;\r\n      },\r\n      error =>{\r\n        this._toastr.error('Error getting occupations', 'Occupations');\r\n      }\r\n    );\r\n    this.getData();\r\n  }\r\n\r\n  refresh(){\r\n    this.occupationService.getOccupations(localStorage.getItem('Username')).subscribe(\r\n      data =>{\r\n        this.occupations = data;\r\n      },\r\n      error =>{\r\n        this._toastr.error('Error getting occupations', 'Occupations');\r\n      });\r\n  }\r\n\r\n  create() {\r\n    if(this.selectedOccupation.dateFrom == undefined || this.selectedOccupation.dateTo == undefined || this.selectedOccupation.dateTo == null ||this.selectedOccupation.dateFrom == null || this.selectedOccupation.carId == -1){\r\n      this._toastr.info('Please fill date to, date from and car','Occupation');\r\n      return;\r\n    }\r\n\r\n    this.occupationService.setOccupied(this.selectedOccupation).subscribe(\r\n      data=>{\r\n        this._toastr.success(\"Occupation succesfully created\", \"Occupation\");\r\n        this.selectedOccupation.carId = -1;\r\n        this.selectedOccupation.dateFrom = null;\r\n        this.selectedOccupation.dateTo = null;\r\n        this.refresh();\r\n      },\r\n      error =>{\r\n        if(error.status == 400){\r\n          this._toastr.info('Dates are not valid','Occupation');\r\n        }else if(error.status == 409) {\r\n          this._toastr.warning('Car is already rented for that period', 'Occupation');\r\n        }else{\r\n        this._toastr.error(\"Error setting occupation\", \"Occupation\");\r\n        }\r\n      }\r\n    );\r\n    \r\n  }\r\n\r\n  getData(){\r\n    this.carService.getCarsByUser(localStorage.getItem('Username')).subscribe(\r\n      (data: CarInfo[]) => this.cars = data,\r\n      error => this._toastr.error(\"Error getting cars\", \"Cars\"));\r\n  }\r\n  \r\n\r\n}\r\n","<div class=\"d-flex justify-content-center\">\r\n   <div class=\"d-flex flex-column col-sm-8\">\r\n       <div>\r\n           <h3 class=\"display-4\" style=\"text-align: center;\">Set the occupation</h3>\r\n       </div>\r\n       <div class=\"d-flex flex-row justify-content-center\" id=\"basicSearch\">\r\n            <div class=\"d-flex flex-column\" id=\"sp\">\r\n               <label  id = \"label\" for=\"mark\">Car </label>\r\n               <select\r\n                  class=\"form-control\"\r\n                  [(ngModel)] =\"selectedOccupation.carId\"\r\n                  id=\"car\">\r\n                  <option\r\n                     *ngFor=\"let car of cars\"\r\n                     [value]=\"car.id\"\r\n                     >{{ car.mark.name }} {{car.model.name}}</option\r\n                  >\r\n               </select>\r\n            </div>\r\n            <div class=\"d-flex flex-column\" id=\"sp\">\r\n               <label  id = \"label\" for=\"toDate\">From date</label>\r\n               <input\r\n                  type=\"date\"\r\n                  [(ngModel)] =\"selectedOccupation.dateFrom\"\r\n                  id=\"dateFrom\"\r\n                  class=\"form-control\"\r\n               />\r\n            </div> \r\n            <div class=\"d-flex flex-column\" id=\"sp\">\r\n               <label  id = \"label\" for=\"toDate\">To date</label>\r\n               <input\r\n                  type=\"date\"\r\n                  [(ngModel)] =\"selectedOccupation.dateTo\"\r\n                  id=\"dateTo\"\r\n                  class=\"form-control\"\r\n               />\r\n            </div> \r\n            <div class=\"d-flex flex-column\" >\r\n               <button class=\"btn btn-outline-success\" id=\"btnSearch\" (click) = \"create()\">Add</button>\r\n            </div>\r\n       </div>\r\n       <div style=\"margin:25px ;\">\r\n         <h5 class=\"display-4\" style=\"text-align: center;\">Active occupations</h5>\r\n         <table class=\"table table-hover\">\r\n            <thead>\r\n              <tr class=\"table-dark\">\r\n                <th scope=\"col\">From</th>\r\n                <th scope=\"col\">To</th>\r\n                <th scope=\"col\">Car</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n               <tr class=\"table-info\" *ngFor = \"let o of occupations\">\r\n                  <td>{{o.dateFrom | date: 'mediumDate'}}</td>\r\n                  <td>{{o.dateTo | date: 'mediumDate'}}</td>\r\n                  <td>{{o.car.mark.name}} {{o.car.model.name}}</td>\r\n                </tr>\r\n            </tbody>\r\n         </table>\r\n       </div> \r\n   </div>\r\n</div>\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Model } from './model';\r\nimport { CarClass } from './carclass';\r\nimport { Fuel } from './fuel';\r\nimport { Gearbox } from './gearbox';\r\nimport { Mark } from './mark';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Ad } from './ad';\r\nimport { Car } from './car';\r\nimport { PriceList } from './priceList';\r\nimport { CarInfo } from './carInfo';\r\n\r\n\r\n@Injectable()\r\nexport class CarService {\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getModels() {\r\n    return this.http.get<Model[]>(environment.api + \"/search/model\");\r\n    //return this.http.get<any>(\"http://localhost:8080/model\");\r\n  }\r\n\r\n  getCities() {\r\n    return this.http.get<any>(environment.api + \"/search/ad/city\");\r\n    //return this.http.get<any>(\"http://localhost:8080/ad/city\");\r\n  }\r\n\r\n  getMarks() {\r\n    return this.http.get<Mark[]>(environment.api + \"/search/mark\");\r\n    //return this.http.get<any>(\"http://localhost:8080/mark\");\r\n  }\r\n\r\n  getGearboxes() {\r\n    return this.http.get<Gearbox[]>(environment.api + \"/search/gearbox\");\r\n    //return this.http.get<any>(\"http://localhost:8080/gearbox\");\r\n  }\r\n\r\n  getFuels() {\r\n    return this.http.get<Fuel[]>(environment.api + \"/search/fuel\");\r\n    //return this.http.get<any>(\"http://localhost:8080/fuel\");\r\n  }\r\n\r\n  getCarClasses() {\r\n    return this.http.get<CarClass[]>(environment.api + \"/search/carclass\");\r\n    //return this.http.get<any>(\"http://localhost:8080/carclass\");\r\n  }\r\n\r\n  getCarsByUser(username: string) {\r\n    return this.http.get<any>(environment.api + \"/car/car/user/\" + username);\r\n    //return this.http.get<any>(\"http://localhost:8080/car/user/\" + username);\r\n  }\r\n\r\n  getOneAd(id: number) {\r\n    // return this.http.get<any>(environment.api + \"/search/ad/\" + id);\r\n    return this.http.get<any>(environment.api + \"/car/ad/\" + id);\r\n    //return this.http.get<any>(\"http://localhost:8080/ad/\" + id);\r\n  }\r\n\r\n  getOneAdSearch(id: number) {\r\n    return this.http.get<any>(environment.api + \"/search/ad/\" + id);\r\n    //return this.http.get<any>(environment.api + \"/car/ad/\" + id);\r\n    //return this.http.get<any>(\"http://localhost:8080/ad/\" + id);\r\n  }\r\n\r\n\r\n  postNewAd(userData) {\r\n    console.log(userData);\r\n    let car: Car = {\r\n      markId: userData.markId,\r\n      modelId: userData.modelId,\r\n      fuelId: userData.fuelId,\r\n      gearboxId: userData.gearboxId,\r\n      carClassId: userData.carClassId,\r\n      images: userData.images,\r\n      kilometrage: userData.kilometrage,\r\n      numberOfChildSeats: userData.numberOfChildSeats,\r\n      userId: -1\r\n    };\r\n    console.log(car);\r\n    let adDTO: Ad = {\r\n      id: -1,\r\n      carDTO: car,\r\n      cdwAvailable: userData.cdw,\r\n      allowedKilometrage: userData.allowedKilometrage,\r\n      fromDate: userData.fromDate,\r\n      toDate: userData.toDate,\r\n      pickUpPlace: userData.pickUpPlace,\r\n      priceListId: userData.priceListId\r\n    }\r\n    console.log(adDTO);\r\n    return this.http.post<Ad>(environment.api + \"/car/ad\", adDTO);\r\n  }\r\n\r\n  getStatistics() {\r\n    let id = localStorage.getItem(\"Id\");\r\n    if (id == undefined) id = \"1\";\r\n    return this.http.get<any>(environment.api + \"/car/car/statistics/\" + id);\r\n  }\r\n\r\n  getCarModels() {\r\n    return this.http.get<Model[]>(environment.api + \"/car/model\");\r\n    //return this.http.get<any>(\"http://localhost:8080/model\");\r\n  }\r\n\r\n  getCarCities() {\r\n    return this.http.get<any>(environment.api + \"/car/ad/city\");\r\n    //return this.http.get<any>(\"http://localhost:8080/ad/city\");\r\n  }\r\n\r\n  getCarMarks() {\r\n    return this.http.get<Mark[]>(environment.api + \"/car/mark\");\r\n    //return this.http.get<any>(\"http://localhost:8080/mark\");\r\n  }\r\n\r\n  getCarGearboxes() {\r\n    return this.http.get<Gearbox[]>(environment.api + \"/car/gearbox\");\r\n    //return this.http.get<any>(\"http://localhost:8080/gearbox\");\r\n  }\r\n\r\n  getCarFuels() {\r\n    return this.http.get<Fuel[]>(environment.api + \"/car/fuel\");\r\n    //return this.http.get<any>(\"http://localhost:8080/fuel\");\r\n  }\r\n\r\n  getCarCarClasses() {\r\n    return this.http.get<CarClass[]>(environment.api + \"/car/carclass\");\r\n    //return this.http.get<any>(\"http://localhost:8080/carclass\");\r\n  }\r\n\r\n  getPriceLists() {\r\n    return this.http.get<PriceList[]>(environment.api + \"/car/priceList/\" + localStorage.getItem(\"Username\"));\r\n  }\r\n\r\n  getCarById(id: number) {\r\n    //return this.http.get<any>(\"http://localhost:8080/car/\" + id);\r\n    return this.http.get<any>(environment.api + \"/car/car/\" + id);\r\n  }\r\n\r\n  editCar(car: CarInfo) {\r\n    /*return this.http.patch(\"http://localhost:8080/car\", {\r\n                                                            id: car.id,\r\n                                                            kilometrage: car.kilometrage,\r\n                                                            fuel: car.fuel,\r\n                                                            hasAndroid: car.hasAndroid,\r\n                                                            numberOfChildSeats: car.numberOfChildSeats,\r\n                                                            gearbox: car.gearbox,\r\n                                                            carClass: car.carClass\r\n                                                          });\r\n  }*/\r\n    return this.http.patch(environment.api + \"/car/car\", {\r\n      id: car.id,\r\n      kilometrage: car.kilometrage,\r\n      fuel: car.fuel,\r\n      hasAndroid: car.hasAndroid,\r\n      numberOfChildSeats: car.numberOfChildSeats,\r\n      gearbox: car.gearbox,\r\n      carClass: car.carClass\r\n    });\r\n  }\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OccupationService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  setOccupied(occupied: any) {\r\n    return this.http.post<any>(environment.api + \"/car/occupied\", occupied);\r\n    //return this.http.post<any>(\"http://localhost:8080/occupied\", occupied);\r\n  }\r\n\r\n  getOccupations(username: any) {\r\n    return this.http.get<any>(environment.api + \"/car/occupied/user/\" + username);\r\n    //return this.http.get<any>(\"http://localhost:8080/occupied/user/\" + username);\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { IStatistics } from '../shared/statistics';\r\nimport { CarService } from '../shared/car.service';\r\n\r\n@Component({\r\n  selector: 'app-statistics',\r\n  templateUrl: './statistics.component.html',\r\n  styleUrls: ['./statistics.component.css']\r\n})\r\nexport class StatisticsComponent implements OnInit {\r\n  statistics: IStatistics;\r\n\r\n  constructor(private carService: CarService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.carService.getStatistics().subscribe(\r\n      (data: IStatistics) => this.statistics = data,\r\n      err => console.error('Error in getting statistics')\r\n    );\r\n    //alert(this.statistics.carWithHighestGrade.markName);\r\n  }\r\n\r\n}\r\n","<div class=\"d-flex justify-content-center\">\r\n   <div class=\"d-flex flex-column col-sm-7\">\r\n      <div \r\n         class=\"card border-primary mb-3\" \r\n         style=\"max-width: 20rem;\"\r\n         *ngIf=\"statistics.carWithHighestGrade != null; else bestGradesNull\"\r\n      >\r\n         <div class=\"card-header\"><b>Car with best average grade</b></div>\r\n         <div class=\"card-body\">\r\n            <p class=\"card-text\">{{ statistics.carWithHighestGrade.markName }} {{ statistics.carWithHighestGrade.modelName }}</p>\r\n            <p class=\"card-text\">Average grade: {{ statistics.carWithHighestGrade.averageGrade }}</p>\r\n         </div>\r\n      </div>\r\n      <div \r\n         class=\"card border-primary mb-3\" \r\n         style=\"max-width: 20rem;\"\r\n         *ngIf=\"statistics.carWithMostComments != null; else mostCommentsNull\"\r\n      >\r\n         <div class=\"card-header\"><b>Car with most comments</b></div>\r\n         <div class=\"card-body\">\r\n            <p class=\"card-text\">{{ statistics.carWithMostComments.markName }} {{ statistics.carWithMostComments.modelName }}</p>\r\n            <p class=\"card-text\">Number of comments: {{ statistics.carWithMostComments.numberOfComments }}</p>\r\n         </div>\r\n      </div>\r\n      <div \r\n         class=\"card border-primary mb-3\" \r\n         style=\"max-width: 20rem;\"\r\n         *ngIf=\"statistics.carWithMostComments != null; else mostKilometersNull\"\r\n      >\r\n         <div class=\"card-header\"><b>Car with most kilometers</b></div>\r\n         <div class=\"card-body\">\r\n            <p class=\"card-text\">{{ statistics.carWithMostKilometers.markName }} {{ statistics.carWithMostKilometers.modelName }}</p>\r\n            <p class=\"card-text\">Kilometrage: {{ statistics.carWithMostKilometers.kilometrage }} km</p>\r\n         </div>\r\n      </div>\r\n   </div>\r\n</div>\r\n\r\n<ng-template #bestGradesNull>\r\n   <div \r\n      class=\"card border-primary mb-3\" \r\n      style=\"max-width: 20rem;\"\r\n   >\r\n      <div class=\"card-header\"><b>Car with best average grade</b></div>\r\n      <div class=\"card-body\">\r\n         <p class=\"card-text\">There is no such car</p>\r\n      </div>\r\n   </div>\r\n</ng-template>\r\n<ng-template #mostCommentsNull>\r\n   <div \r\n      class=\"card border-primary mb-3\" \r\n      style=\"max-width: 20rem;\"\r\n   >\r\n      <div class=\"card-header\"><b>Car with most comments</b></div>\r\n      <div class=\"card-body\">\r\n         <p class=\"card-text\">There is no such car</p>\r\n      </div>\r\n   </div>\r\n</ng-template>\r\n<ng-template #mostKilometersNull>\r\n   <div \r\n      class=\"card border-primary mb-3\" \r\n      style=\"max-width: 20rem;\"\r\n   >\r\n      <div class=\"card-header\"><b>Car with most kilometers</b></div>\r\n      <div class=\"card-body\">\r\n         <p class=\"card-text\">There is no such car</p>\r\n      </div>\r\n   </div>\r\n</ng-template>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Chat } from './shared/chat';\r\nimport { Message } from './shared/message';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { ChatService } from './shared/chat.service';\r\n\r\n@Component({\r\n  selector: 'app-chat',\r\n  templateUrl: './chat.component.html',\r\n  styleUrls: ['./chat.component.css']\r\n})\r\nexport class ChatComponent implements OnInit {\r\n  messages: Message[];\r\n  chats: Chat[] = [];\r\n  messageForm;\r\n  newMessage: Message;\r\n  companionId: Number;\r\n\r\n  constructor(private chatService: ChatService, private formBuilder: FormBuilder) {\r\n    this.messageForm = this.formBuilder.group({ text: '' });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getMessages();\r\n  }\r\n\r\n  getMessages() {\r\n    this.chatService.getMessages(+localStorage.getItem(\"Id\"))\r\n      .subscribe((data: Chat[]) => this.chats = data);\r\n  }\r\n\r\n  change_messages(chat: Chat) {\r\n    this.companionId = chat.companion.id;\r\n    this.messages = chat.messages;\r\n  }\r\n\r\n  onSubmit(mess: { text: String; }) {\r\n    this.newMessage = {\r\n      id: -1,\r\n      text: mess.text,\r\n      sent: new Date(),\r\n      user: 'sent',\r\n      companionId: this.companionId\r\n    };\r\n    this.chatService.sendMessage(this.newMessage)\r\n      .subscribe((data: Message) => this.messages.push(data));\r\n\r\n    this.messageForm.reset();\r\n  }\r\n}\r\n","<div>\r\n   <div class=\"messaging\">\r\n      <div class=\"inbox_msg row\">\r\n         <div class=\"inbox_people row\">\r\n            <div class=\"headind_srch col-sm-6\">\r\n               <div class=\"recent_heading col\">\r\n                  <h4>Recent</h4>\r\n               </div>\r\n               <div class=\"inbox_chat col\">\r\n                  <div\r\n                     class=\"chat_list active_chat\"\r\n                     *ngFor=\"let chat of chats\"\r\n                     (click)=\"change_messages(chat)\"\r\n                  >\r\n                     <div class=\"chat_people\">\r\n                        <div class=\"chat_img\">\r\n                           <img\r\n                              src=\"https://ptetutorials.com/images/user-profile.png\"\r\n                              alt=\"sunil\"\r\n                           />\r\n                        </div>\r\n                        <div class=\"chat_ib\">\r\n                           <h5 *ngIf=\"chat.companion.companyName != null\">\r\n                              {{ chat.companion.companyName }}\r\n                           </h5>\r\n                           <h5>\r\n                              {{\r\n                                 chat.companion.firstName +\r\n                                    \" \" +\r\n                                    chat.companion.lastName\r\n                              }}\r\n                              <!-- <span class=\"chat_date\">{{\r\n                                 chat.messages[0].sent\r\n                              }}</span> -->\r\n                           </h5>\r\n\r\n                           <p>\r\n                              {{ chat.messages[chat.messages.length - 1].text }}\r\n                           </p>\r\n                        </div>\r\n                     </div>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n            <div class=\"mesgs col\" *ngIf=\"messages != undefined\">\r\n               <div class=\"msg_history\">\r\n                  <div\r\n                     [className]=\"\r\n                        msg.user == 'received' ? 'incoming_msg' : 'outgoing_msg'\r\n                     \"\r\n                     *ngFor=\"let msg of messages\"\r\n                  >\r\n                     <div\r\n                        [className]=\"\r\n                           msg.user == 'received'\r\n                              ? 'received_msg received_withd_msg'\r\n                              : 'sent_msg'\r\n                        \"\r\n                     >\r\n                        <p>{{ msg.text }}</p>\r\n                        <span class=\"time_date\"> 11:01 AM | June 9</span>\r\n                     </div>\r\n                  </div>\r\n               </div>\r\n               <div class=\"type_msg\">\r\n                  <form\r\n                     [formGroup]=\"messageForm\"\r\n                     (ngSubmit)=\"onSubmit(messageForm.value)\"\r\n                  >\r\n                     <div class=\"input_msg_write\">\r\n                        <input\r\n                           type=\"text\"\r\n                           class=\"write_msg\"\r\n                           placeholder=\"Type a message\"\r\n                           formControlName=\"text\"\r\n                        />\r\n                        <button class=\"msg_send_btn\" type=\"submit\">\r\n                           Send\r\n                        </button>\r\n                     </div>\r\n                  </form>\r\n               </div>\r\n            </div>\r\n         </div>\r\n      </div>\r\n   </div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Chat } from './chat';\r\nimport { Message } from './message';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ChatService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n\r\n  sendMessage(message: Message) {\r\n    return this.http.post<Message>(environment.api + \"/admin/message\", message);\r\n  }\r\n\r\n\r\n  getMessages(userId: Number) {\r\n    return this.http.get<Chat[]>(environment.api + \"/admin/message\");\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { GradeService } from '../comment/shared/grade.service';\r\nimport { CommentService } from '../comment/shared/comment.service';\r\nimport { IGrade } from '../comment/shared/grade';\r\nimport { IComment } from '../comment/shared/comment';\r\nimport { CarService } from '../car/shared/car.service';\r\nimport { Car } from '../car/shared/car';\r\nimport { CarInfo } from '../car/shared/carInfo';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n  selector: 'app-comment-and-grade',\r\n  templateUrl: './comment-and-grade.component.html',\r\n  styleUrls: ['./comment-and-grade.component.css']\r\n})\r\nexport class CommentAndGradeComponent implements OnInit {\r\n  grades: IGrade[];\r\n  comments: IComment[];\r\n  cars: CarInfo[];\r\n  selectedCar: CarInfo;\r\n  commentText: string='';\r\n  role: string;\r\n  comment: IComment;\r\n  selectedComment: IComment;\r\n  mode: string = 'VIEW';\r\n  username: string;\r\n  checkCommentFlag: boolean = false;\r\n\r\n\r\n\r\n  constructor(private gradeService: GradeService,\r\n              private commentService: CommentService,\r\n              private carService: CarService,\r\n              private _toastr: ToastrService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.role = localStorage.getItem(\"User-role\");\r\n    this.username = localStorage.getItem(\"Username\");\r\n    this.carService.getCarsByUser(this.username).subscribe(\r\n      data =>{\r\n        this.cars = data;\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  cancel(){\r\n    this.mode='VIEW';\r\n    this.commentText = '';\r\n  }\r\n\r\n  addComment(comment){\r\n      this.mode = 'COMMENT';\r\n      this.selectedComment = comment;\r\n  }\r\n\r\n  getCommentAndGrades(){\r\n    this.mode = 'VIEW';\r\n    this.gradeService.getGradesForCar(this.selectedCar.id).subscribe(\r\n      data => {\r\n          this.grades = data;\r\n      }\r\n    );\r\n\r\n    this.commentService.getCommentsForCar(this.selectedCar.id).subscribe(\r\n      data => {\r\n          this.comments = data;\r\n      }\r\n    );\r\n  }\r\n\r\n  sendComment(): void {\r\n    if(this.commentText == ''){\r\n      this._toastr.info('Please, insert text', \"Comment\");\r\n      return;\r\n    }\r\n    this.comment = {\r\n      adId: this.selectedComment.adId,\r\n      role: localStorage.getItem(\"User-role\"),\r\n      approved: false,\r\n      text: this.commentText,\r\n      userUsername: this.username,\r\n      id: null,\r\n      carId: this.selectedComment.carId\r\n    };\r\n    this.commentService.createCommentReply(this.comment).subscribe(\r\n      data=>{\r\n        this._toastr.success(\"Comment succesfully created\", \"Comment\");\r\n      },\r\n      error =>{\r\n        if(error.status == 400)\r\n          this._toastr.info(\"Comment already sent\", \"Comment\");\r\n        else\r\n          this._toastr.error(\"Error creating comment\", \"Comment\");\r\n      }\r\n    );\r\n    this.commentText = '';\r\n    this.mode ='VIEW';\r\n  }\r\n\r\n}\r\n","<div class=\"d-flex justify-content-center\" style=\"margin-top:15px ;\">\r\n    <div class=\"d-flex flex-column col-sm-10 \" style=\"background-color:lightgray;\">\r\n        <div>\r\n            <h3 class=\"display-4\" style=\"text-align: center;\">Comments and grades</h3>\r\n        </div>\r\n        <div class=\"d-flex justify-content-center flex-column\" >\r\n            <div class=\"form-group\">\r\n                <h6 class=\"border-bottom border-gray pb-2 mb-0\">Cars</h6>\r\n                <select class=\"form-control\" [(ngModel)]= \"selectedCar\" (change) = \"getCommentAndGrades()\" id=\"selectedCar\">\r\n                   <option *ngFor=\"let car of cars\" [ngValue]=\"car\">{{car.mark.name}} {{car.model.name}}</option>\r\n                </select>\r\n             </div>\r\n        </div>\r\n        <div class=\"d-flex flex-row\">\r\n            <div class=\"my-3 p-3 bg-white rounded shadow-sm\" style=\"width: 50%; height: min-content;\">\r\n                <h6 class=\"border-bottom border-gray pb-2 mb-0\">Comments</h6>\r\n                <div class=\"media text-muted pt-3  border-bottom border-gray\" *ngFor = \" let comment of comments\">\r\n                  <svg class=\"bd-placeholder-img mr-2 rounded\" width=\"32\" height=\"32\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\" role=\"img\" aria-label=\"Placeholder: 32x32\"><title>Placeholder</title><rect width=\"100%\" height=\"100%\" fill=\"#007bff\"/><text x=\"50%\" y=\"50%\" fill=\"#007bff\" dy=\".3em\">32x32</text></svg>\r\n                  <p class=\"media-body pb-3 mb-0 small lh-125\">\r\n                    <strong class=\"d-block text-gray-dark\">@{{comment.userUsername}}</strong>\r\n                    {{comment.text}}\r\n                  </p>\r\n                  <button type=\"button\" class=\"btn btn-primary\" style=\"float: left; \" (click) = \"addComment(comment)\" *ngIf = \"comment.userUsername != username\">Reply</button>\r\n                </div>\r\n                <div class=\"media text-muted pt-3 d-flex flex-column\" *ngIf= \"mode =='COMMENT'\">\r\n                    <div class=\"d-flex flex-column\">\r\n                        <div  class=\"d-flex flex-row\">\r\n                            To:  @{{selectedComment.userUsername}}<br>\r\n                        </div>\r\n                            Text: {{selectedComment.text}}\r\n                    </div>\r\n                    <textarea class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"3\" [(ngModel)] = \"commentText\"></textarea>\r\n                    <br>\r\n                    <div  class=\"d-flex flex-row\">\r\n                        <button type=\"button\" class=\"btn btn-primary\" style=\"float: left;\" (click) = \"sendComment()\">Comment</button>\r\n                        <button type=\"button\" class=\"btn btn-danger\" style=\"float: right; margin-left: 420px;\" (click) = \"cancel()\">Cancel</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"my-3 p-3 bg-white rounded shadow-sm\" style=\"width: 50%; margin-left: 10px; height: min-content;\">\r\n                <h6 class=\"border-bottom border-gray pb-2 mb-0\">Grades</h6>\r\n                <div class=\"media text-muted pt-3\" *ngFor = \" let grade of grades\">\r\n                  <svg class=\"bd-placeholder-img mr-2 rounded\" width=\"32\" height=\"32\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\" role=\"img\" aria-label=\"Placeholder: 32x32\"><title>Placeholder</title><rect width=\"100%\" height=\"100%\" fill=\"#007bff\"/><text x=\"50%\" y=\"50%\" fill=\"#007bff\" dy=\".3em\">32x32</text></svg>\r\n                  <p class=\"media-body pb-3 mb-0 small lh-125 border-bottom border-gray\">\r\n                    <strong class=\"d-block text-gray-dark\">@{{grade.userUsername}}</strong>\r\n                    <ngb-rating  [rate]=\"grade.grade\" readonly = false [max]=\"5\" >\r\n                        <ng-template let-fill=\"fill\" let-index=\"index\">\r\n                            <span class=\"star\" [class.filled]=\"fill === 100\" [class.bad]=\"index < 0\">&#9733;</span>\r\n                        </ng-template>\r\n                    </ngb-rating>\r\n                  </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { IComment } from './shared/comment';\r\nimport { CommentService } from './shared/comment.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n  selector: 'app-comment',\r\n  templateUrl: './comment.component.html',\r\n  styleUrls: ['./comment.component.css']\r\n})\r\nexport class CommentComponent implements OnInit {\r\n\r\n  comments: IComment[] = [];\r\n\r\n  constructor(private commentService: CommentService, private _toastr: ToastrService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.commentService.getComments().subscribe(\r\n        (data: IComment[]) =>   this.comments = data,\r\n        err => this._toastr.error(\"Error getting comments\", \"Comments\")\r\n        );\r\n  }\r\n  refresh(){\r\n    this.commentService.getComments().subscribe(\r\n       (data: IComment[]) => this.comments = data,\r\n       err => this._toastr.error(\"Error getting comments\", \"Comments\")\r\n       );\r\n }\r\n\r\n  onClickRefuse(comment: any){\r\n    this.commentService.acceptOrRefuse(comment.id, false).subscribe(\r\n      data => {\r\n          this._toastr.success(\"Comment \" + comment.text +\" refused\", \"Comment\")\r\n          this.refresh();\r\n      },\r\n      err => {\r\n        this._toastr.error(\"Error refusing comment\", \"Comment\")\r\n      });\r\n  }\r\n\r\n  onClickAccepte(comment: any){\r\n    this.commentService.acceptOrRefuse(comment.id, true).subscribe(\r\n      data => {\r\n          this._toastr.success(\"Comment \" + comment.text +\" accepted\", \"Comment\")\r\n          this.refresh();\r\n      },\r\n      err => {\r\n        this._toastr.error(\"Error accepting comment\", \"Comment\")\r\n      });\r\n  }\r\n\r\n}\r\n","<div class=\"d-flex justify-content-center\">\r\n    <div class=\"d-flex flex-column col-sm-7\">\r\n       <h1 class=\"display-4\" style=\"text-align: center; border-bottom: 2px solid #ccc;\">Comments</h1>\r\n       <h3 class=\"display-4\" style=\"text-align: center;\" *ngIf = \"comments.length == 0\">No comments</h3>\r\n       <div *ngFor = \"let comment of comments\" class=\"card\">\r\n          <div class=\"card-body\" >\r\n             <h5 class=\"card-title\">User: {{comment.userUsername}}</h5>\r\n             <p class=\"card-text\">{{comment.text}}</p>\r\n             <button class=\"btn btn-secondary\" style=\"float: right;\" (click) = \"onClickRefuse(comment)\">Refuse</button>\r\n             <button class=\"btn btn-primary\" style=\"margin-right: 10px; float: right;\" (click) = \"onClickAccepte(comment)\">Accept</button>\r\n          </div>\r\n       </div>\r\n       <br>\r\n </div>\r\n ","import { Injectable } from '@angular/core';\r\nimport { IComment } from './comment';\r\nimport { environment } from 'src/environments/environment';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CommentService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getComments() {\r\n    //return this.http.get<any>('http://localhost:8080/comment');\r\n    return this.http.get<any>(environment.api + '/car/comment');\r\n  }\r\n\r\n  getCommentsForCar(carId: number) {\r\n    //return this.http.get<any>('http://localhost:8080/comment/car/' + carId);\r\n    return this.http.get<any>(environment.api + '/car/comment/car/' + carId);\r\n  }\r\n\r\n  checkComment(id: number, username: string) {\r\n    //return this.http.get<any>('http://localhost:8080/comment/check/' + username + \"/\" + id);\r\n    return this.http.get<any>(environment.api + '/car/comment/check/' + username + \"/\" + id);\r\n  }\r\n\r\n  acceptOrRefuse(id: number, decision: boolean) {\r\n    return this.http.get<void>(environment.api + '/car/comment/accept/' + id + '/' + decision);\r\n    //return this.http.get<void>('http://localhost:8080/comment/accept/' + id + '/' + decision);\r\n  }\r\n\r\n  createComment(comment: IComment) {\r\n    //return this.http.post('http://localhost:8080/comment', comment);\r\n    return this.http.post(environment.api + '/car/comment', comment);\r\n  }\r\n\r\n  createCommentReply(comment: IComment) {\r\n    //return this.http.post('http://localhost:8080/comment/reply', comment);\r\n    return this.http.post(environment.api + '/car/comment/reply', comment);\r\n  }\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GradeService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n\r\ncreateGrade(grade: any){\r\n  //return this.http.post('http://localhost:8080/grade', grade);\r\n   return this.http.post(environment.api + '/car/grade', grade);\r\n}\r\n\r\ncheckGrade(id: number, username: string) {\r\n  //return this.http.get<any>('http://localhost:8080/grade/check/' + username + \"/\" + id);\r\n  return this.http.get<any>(environment.api + '/car/grade/check/' + username + \"/\" + id);\r\n}\r\n\r\ngetGradesForCar(carId: number) {\r\n  //return this.http.get<any>('http://localhost:8080/grade/car/' + carId);\r\n  return this.http.get<any>(environment.api + '/car/grade/car/' + carId);\r\n}\r\n\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n  selector: 'app-homepage-admin',\r\n  templateUrl: './homepage-admin.component.html',\r\n  styleUrls: ['./homepage-admin.component.css']\r\n})\r\nexport class HomepageAdminComponent implements OnInit {\r\n\r\n  constructor(private router: Router,\r\n              private toastr: ToastrService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  logout(){\r\n    localStorage.removeItem(\"User-token\");\r\n    localStorage.removeItem(\"Expires-in\");\r\n    localStorage.removeItem(\"Username\");\r\n    localStorage.removeItem(\"User-role\");\r\n    localStorage.removeItem(\"Refresh-token\");\r\n    localStorage.removeItem(\"Id\");\r\n    this.router.navigate(['unregistredHomepage']);\r\n    this.toastr.success('Successfully logged out', 'Logout');\r\n  }\r\n\r\n}\r\n","<div>\r\n   <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <ul class=\"navbar-nav mr-auto\">\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" [routerLink]=\"['comments']\">Comments</a>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" [routerLink]=\"['register']\">Add agent</a>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" [routerLink]=\"['users']\">Users</a>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" [routerLink]=\"['requests']\"\r\n               >Registration requests</a\r\n            >\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" [routerLink]=\"['codebook']\">Codebook</a>\r\n         </li>\r\n      </ul>\r\n      <ul class=\"navbar-nav mr-right\" style=\"float: right;\">\r\n         <li class=\"nav-item\">\r\n            <button\r\n               class=\"btn btn-outline-danger my-2 my-sm-0\"\r\n               (click)=\"logout()\"\r\n               type=\"submit\"\r\n            >\r\n               Logout\r\n            </button>\r\n         </li>\r\n      </ul>\r\n   </nav>\r\n   <router-outlet></router-outlet>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-homepage-unregistred',\r\n  templateUrl: './homepage-unregistred.component.html',\r\n  styleUrls: ['./homepage-unregistred.component.css']\r\n})\r\nexport class HomepageUnregistredComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div>\r\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n       <ul class=\"navbar-nav mr-auto\">\r\n         <li class=\"nav-item \">\r\n            <a class=\"nav-link\" [routerLink]=\"['search']\">Search</a>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" [routerLink]=\"['register']\">Register</a>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" [routerLink]=\"['map']\">Map</a>\r\n         </li>\r\n          <li class=\"nav-item\">\r\n             <a class=\"nav-link\" [routerLink]=\"['login']\" >Login</a>\r\n          </li>\r\n       </ul>\r\n    </nav>\r\n    <router-outlet></router-outlet>\r\n </div>\r\n \r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n  selector: 'app-homepage-users',\r\n  templateUrl: './homepage-users.component.html',\r\n  styleUrls: ['./homepage-users.component.css']\r\n})\r\nexport class HomepageUsersComponent implements OnInit {\r\n  role: string = '';\r\n  constructor(private router: Router,\r\n    private toastr: ToastrService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.role = localStorage.getItem(\"User-role\");\r\n  }\r\n\r\n  logout() {\r\n    localStorage.removeItem(\"User-token\");\r\n    localStorage.removeItem(\"Expires-in\");\r\n    localStorage.removeItem(\"Username\");\r\n    localStorage.removeItem(\"User-role\");\r\n    localStorage.removeItem(\"Refresh-token\");\r\n    localStorage.removeItem(\"Cart\");\r\n    localStorage.removeItem(\"Id\");\r\n    this.router.navigate(['unregistredHomepage']);\r\n    this.toastr.success('Successfully logged out', 'Logout');\r\n  }\r\n\r\n  cart() {\r\n    this.router.navigate(['usersHomepage/cart']);\r\n  }\r\n\r\n}\r\n","<div>\r\n   <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <ul class=\"navbar-nav mr-auto\">\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" [routerLink]=\"['chat']\">Chat</a>\r\n         </li>\r\n         <li class=\"nav-item\" *ngIf=\"role === 'ROLE_USER'\">\r\n            <a class=\"nav-link\" [routerLink]=\"['requests']\">My requests</a>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" [routerLink]=\"['received-requests']\"\r\n               >Received requests</a\r\n            >\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" [routerLink]=\"['new-car']\">New car</a>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" [routerLink]=\"['search']\">Search</a>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" [routerLink]=\"['commentsAndGrades']\"\r\n               >Comments and Grades</a\r\n            >\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" [routerLink]=\"['occupation']\">Occupation</a>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" [routerLink]=\"['profile']\">Profile</a>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" [routerLink]=\"['bill']\">Bills</a>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" [routerLink]=\"['priceList']\">Price Lists</a>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" [routerLink]=\"['statistics']\">Statistics</a>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" [routerLink]=\"['cars']\">Cars</a>\r\n         </li>\r\n      </ul>\r\n      <ul class=\"navbar-nav mr-right\" style=\"float: right;\">\r\n         <li class=\"nav-item\" *ngIf=\"role == 'ROLE_USER'\">\r\n            <button\r\n               class=\"btn btn-outline-primary my-2 my-sm-0 m-2\"\r\n               (click)=\"cart()\"\r\n               type=\"button\"\r\n            >\r\n               Cart\r\n            </button>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <button\r\n               class=\"btn btn-outline-danger my-2 my-sm-0 m-2\"\r\n               (click)=\"logout()\"\r\n               type=\"submit\"\r\n            >\r\n               Logout\r\n            </button>\r\n         </li>\r\n      </ul>\r\n   </nav>\r\n   <router-outlet></router-outlet>\r\n</div>\r\n","import { Injectable } from \"@angular/core\";\r\nimport { HttpInterceptor, HttpRequest, HttpHandler, HttpEvent } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { AuthService } from '../auth/shared/auth.service';\r\n\r\n@Injectable()\r\nexport class AuthInterceptor implements HttpInterceptor {\r\n\r\n    constructor(private auth: AuthService) {\r\n\r\n    }\r\n\r\n    intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        // Get the auth token from the service.\r\n        const authToken = this.auth.getToken();\r\n        if (authToken != '') {\r\n            // alert(\"Why am i here\");\r\n            // Clone the request and replace the original headers with\r\n            // cloned headers, updated with the authorization.\r\n            const authReq = req.clone({\r\n                headers: req.headers.set('AuthToken', authToken)\r\n            });\r\n\r\n            // send cloned request with header to the next handler.\r\n            return next.handle(authReq);\r\n        } else {\r\n            const request = req.clone({\r\n                headers: req.headers.set('Content-Type', 'application/json')\r\n            });\r\n            return next.handle(request);\r\n        }\r\n    }\r\n\r\n}","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\r\nimport { interval, Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-map',\r\n  templateUrl: './map.component.html',\r\n  styleUrls: ['./map.component.css']\r\n})\r\nexport class MapComponent implements OnInit {\r\n  subscription: Subscription;\r\n  intervalId: number;\r\n  position: [number, number] = [44.751952, 21.600739];\r\n\r\n  constructor(private ref: ChangeDetectorRef) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const source = interval(10000);\r\n    this.subscription = source.subscribe(val => this.getPosition());\r\n  }\r\n\r\n  getPosition() {\r\n    this.position = [this.position[0] + 0.5, this.position[1] + 0.5]\r\n    console.log(this.position);\r\n    this.ref.detectChanges();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscription && this.subscription.unsubscribe();\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n   <angular-yandex-map [center]=\"[44.751952, 21.600739]\" [zoom]=\"8\">\r\n      <angular-yandex-placemark\r\n         [geometry]=\"position\"\r\n      ></angular-yandex-placemark>\r\n   </angular-yandex-map>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { NgbModalRef, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { PriceList } from '../car/shared/priceList';\r\nimport { PricelistService } from './shared/pricelist.service';\r\n\r\n@Component({\r\n  selector: 'app-price-list',\r\n  templateUrl: './price-list.component.html',\r\n  styleUrls: ['./price-list.component.css']\r\n})\r\nexport class PriceListComponent implements OnInit {\r\n  addModal: NgbModalRef;\r\n  priceList: PriceList;\r\n  priceLists: PriceList[] = [];\r\n  role: string='';\r\n  username: string='';\r\n  mode: string = 'ADD';\r\n  \r\n  constructor(private route: ActivatedRoute,\r\n              private _toastr: ToastrService,\r\n              private router: Router,\r\n              private modalService: NgbModal,\r\n              private priceListService: PricelistService) {\r\n  this.priceList = {\r\n    perDay : 0,\r\n    discount : 0,\r\n    extraKilometrage : 0,\r\n    cdw: 0,\r\n    discountDays: 0,\r\n    id : null,\r\n    userUsername: localStorage.getItem('Username')\r\n  }\r\n}\r\n\r\n  ngOnInit(): void {\r\n    this.username  = localStorage.getItem('Username');\r\n    this.role  = localStorage.getItem('User-role');\r\n    this.priceListService.getPriceListsUser(this.username).subscribe(\r\n      data => {\r\n        this.priceLists = data;\r\n      },\r\n      error => {\r\n          this._toastr.error(\"Error getting price lists\", \"Price list\");\r\n      }\r\n    );\r\n  }\r\n\r\n  refresh(){\r\n    this.priceListService.getPriceListsUser(this.username).subscribe(\r\n      data => {\r\n        this.priceLists = data;\r\n      },\r\n      error => {\r\n          this._toastr.error(\"Error getting price lists\", \"Price list\");\r\n      }\r\n    );\r\n  }\r\n\r\n  clear(){\r\n    this.priceList.cdw = 0;\r\n    this.priceList.discount = 0;\r\n    this.priceList.perDay = 0;\r\n    this.priceList.discountDays = 0;\r\n    this.priceList.extraKilometrage = 0;\r\n    this.priceList.userUsername = this.username;\r\n    this.priceList.id = null;\r\n  }\r\n\r\n  addPriceList(content){\r\n    this.clear();\r\n    this.refresh();\r\n    this.mode = 'ADD';\r\n    this.addModal = this.modalService.open(content,{size: 'lg'});\r\n  }\r\n\r\n  add(){\r\n    if(this.priceList.cdw == 0 || this.priceList.perDay == 0 || this.priceList.extraKilometrage == 0 ){\r\n      this._toastr.info(\"Please fill per day, cdw and extra kilometrage\", \"Price list\");\r\n      return;\r\n    }\r\n\r\n      this.priceListService.createPriceList(this.priceList).subscribe(\r\n        data => {\r\n          this._toastr.success(\"Price list succesfully created\", \"Price list\");\r\n          this.clear();\r\n          this.refresh();\r\n          this.addModal.close();\r\n        },\r\n        error => {\r\n            this._toastr.error(\"Error creating price list\", \"Price list\");\r\n        }\r\n      );\r\n  }\r\n\r\n  editPriceList(content, priceList){\r\n      this.priceList = priceList;\r\n      this.mode = 'EDIT';\r\n      this.addModal = this.modalService.open(content,{size: 'lg'});\r\n  }\r\n\r\n  save(){\r\n    if(this.priceList.cdw == 0 || this.priceList.perDay == 0 || this.priceList.extraKilometrage == 0 ){\r\n      this._toastr.info(\"Please fill per day, cdw and extra kilometrage\", \"Price list\");\r\n      return;\r\n    }\r\n\r\n      this.priceListService.editPriceList(this.priceList).subscribe(\r\n        data => {\r\n          this._toastr.success(\"Price list succesfully edited\", \"Price list\");\r\n          this.clear();\r\n          this.refresh();\r\n          this.addModal.close();\r\n          this.mode = 'ADD';\r\n        },\r\n        error => {\r\n            this._toastr.error(\"Error editing price list\", \"Price list\");\r\n        }\r\n      )\r\n      \r\n  }\r\n\r\n}\r\n","<div class=\"d-flex justify-content-center\">\r\n    <div class=\"d-flex flex-column col-sm-10\">\r\n        <div >\r\n            <h3 class=\"display-4\" style=\"text-align: center;\">Price lists</h3>\r\n        </div>\r\n        <div class=\"d-flex justify-content-center border-bottom border-gray p-2\">\r\n            <button class=\"btn btn-outline-success\" id=\"btnSearchSecondary\" (click) = \"addPriceList(addModal)\">Add</button>\r\n         </div>\r\n        <div class=\"d-flex justify-content-center border border-gray p-2\">\r\n            <div class=\"d-flex flex-row flex-wrap justify-content-center \" >\r\n            <div *ngIf = \"priceLists.length == 0\">\r\n                <h4 class=\"display-4\" style=\"text-align: center;\">No price lists</h4>\r\n            </div>\r\n            <div class=\"d-flex flex-row\" style=\"width: 275px; max-width: 275px; min-width: 275px; margin-right: 10px; margin-top: 10px;\" *ngFor = \"let p of priceLists\">\r\n                <div class=\"card border-primary mb-3\" style=\"max-width: 20rem;\">\r\n                    <div class=\"card-header\">Per day: {{p.perDay}} </div>\r\n                    <div class=\"card-body\">\r\n                    <p class=\"card-text\">Extra Kilometarage: {{p.extraKilometrage}}/km</p>\r\n                    <p class=\"card-text\">Colision Damage Waiver: {{p.cdw}}</p>\r\n                    <p class=\"card-text\" *ngIf = \"role == 'ROLE_AGENT'\">Discount: {{p.discount}}%</p>\r\n                    <p class=\"card-text\" *ngIf = \"role == 'ROLE_AGENT'\">Days for discount: {{p.discountDays}}</p>\r\n                    <button class=\"btn btn-outline-success\" id=\"btnSearchSecondary\" (click) = \"editPriceList(addModal,p)\">Edit</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n         </div>\r\n    </div>\r\n</div>\r\n \r\n<ng-template #addModal let-modal>\r\n    <div class=\"modal-header\">\r\n       <h4 class=\"modal-title \" id=\"modal-basic-title\" *ngIf=\"mode == 'ADD'\">Add price list</h4>\r\n       <h4 class=\"modal-title \" id=\"modal-basic-title\" *ngIf=\"mode == 'EDIT'\">Edit price list</h4>\r\n       <button\r\n          type=\"button\"\r\n          class=\"close\"\r\n          aria-label=\"Close\"\r\n          (click)=\"modal.dismiss('Cross click')\"\r\n       >\r\n          <span aria-hidden=\"true\">&times;</span>\r\n       </button>\r\n    </div>\r\n    <div class=\"modal-body\">\r\n       <div class=\"d-flex flex-column\">\r\n          <div class=\"d-flex flex-row\">\r\n                <div class=\"d-flex flex-column\" id =\"ap\">\r\n                    <label id = \"label\" for=\"pricePerDay\">Price per day</label>\r\n                    <input [(ngModel)] = \"priceList.perDay\" type=\"number\" min=\"0\" name=\"pricePerDay\" id=\"pricePerDay\" class=\"form-control\"/>\r\n                </div>\r\n                <div class=\"d-flex flex-column\" id =\"ap\">\r\n                    <label id = \"label\" for=\"priceExtraKilometrage\">Price extra kilometrage</label>\r\n                    <input [(ngModel)] = \"priceList.extraKilometrage\" type=\"number\" min=\"0\" name=\"priceExtraKilometrage\" id=\"priceExtraKilometrage\" class=\"form-control\"/>\r\n                </div>\r\n                <div class=\"d-flex flex-column\" id =\"ap\">\r\n                    <label id = \"label\" for=\"priceCDW\">Price for Collision Damage Waiver</label>\r\n                    <input [(ngModel)] = \"priceList.cdw\" type=\"number\" min=\"0\" name=\"priceCDW\" id=\"priceCDW\" class=\"form-control\"/>\r\n                </div>\r\n          </div> \r\n          <div class=\"d-flex flex-column\" *ngIf =\"role == 'ROLE_AGENT'\">\r\n            <div class=\"d-flex flex-row justify-content-center\">\r\n                <div class=\"d-flex flex-column\" id =\"sp\">\r\n                    <label id = \"label\" for=\"discount\">Discount</label>\r\n                    <input [(ngModel)] = \"priceList.discount\" type=\"number\" min=\"0\" name=\"discount\" id=\"discount\" class=\"form-control\"/>\r\n                </div>\r\n                <div class=\"d-flex flex-column\" id =\"sp\">\r\n                    <label id = \"label\" for=\"discountDays\">Number days</label>\r\n                    <input [(ngModel)] = \"priceList.discountDays\" type=\"number\" min=\"0\" name=\"discountDays\" id=\"discountDays\" class=\"form-control\"/>\r\n                </div>  \r\n            </div> \r\n          </div>\r\n          <div  style=\"margin: 20px;\">\r\n            <button style=\"float: right;\" *ngIf=\"mode == 'ADD'\" class=\"btn btn-outline-success\" id=\"btnSearchSecondary\" (click) = \"add()\">Add</button>\r\n            <button style=\"float: right;\" *ngIf=\"mode == 'EDIT'\" class=\"btn btn-outline-success\" id=\"btnSearchSecondary\" (click) = \"save()\">Save</button>\r\n          </div>\r\n       </div>\r\n    </div>\r\n </ng-template>","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { PriceList } from 'src/app/car/shared/priceList';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PricelistService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  createPriceList(priceList: PriceList) {\r\n    return this.http.post<any>(environment.api + \"/car/priceList\", priceList);\r\n    //return this.http.post<any>(\"http://localhost:8080/priceList\", priceList);\r\n  }\r\n\r\n  editPriceList(priceList: PriceList) {\r\n    return this.http.patch<any>(environment.api + \"/car/priceList\" ,{id: priceList.id,\r\n                                                                    cdw: priceList.cdw,\r\n                                                                    extraKilometrage: priceList.extraKilometrage,\r\n                                                                    discount: priceList.discount,\r\n                                                                    discountDays: priceList.discountDays,\r\n                                                                    userUsername: priceList.userUsername,\r\n                                                                    perDay: priceList.perDay});\r\n   /* return this.http.patch<any>(\"http://localhost:8080/priceList\", {id: priceList.id,\r\n                                                                    cdw: priceList.cdw,\r\n                                                                    extraKilometrage: priceList.extraKilometrage,\r\n                                                                    discount: priceList.discount,\r\n                                                                    discountDays: priceList.discountDays,\r\n                                                                    userUsername: priceList.userUsername,\r\n                                                                    perDay: priceList.perDay});*/\r\n  }\r\n\r\n\r\n  getPriceListsUser(username: string) {\r\n    return this.http.get<any>(environment.api + \"/car/priceList/\" + username);\r\n    //return this.http.get<any>(\"http://localhost:8080/priceList/\" + username );\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { RequestService } from '../shared/request.service';\r\nimport { IAllRequests } from '../shared/irequests.all';\r\nimport { IRequest } from '../shared/irequest.request';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { ChatService } from 'src/app/chat/shared/chat.service';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\r\nimport { IReport } from '../shared/ireport.report';\r\n\r\n@Component({\r\n  selector: 'app-received-requests',\r\n  templateUrl: './received-requests.component.html',\r\n  styleUrls: ['./received-requests.component.css']\r\n})\r\nexport class ReceivedRequestsComponent implements OnInit {\r\n  @ViewChild('dismissbutton') closeButton;\r\n\r\n  all: IRequest[];\r\n  pending: IRequest[];\r\n  paid: IRequest[];\r\n  finished: IRequest[];\r\n\r\n  user: string;\r\n  kilometrage: number;\r\n  textCommentReport: string = '';\r\n  request: IRequest;\r\n  report: IReport;\r\n  myModalReport: NgbModalRef;\r\n\r\n  messageForm;\r\n  newMessage;\r\n  companionId: number;\r\n\r\n  constructor(private requestService: RequestService, private toastr: ToastrService, private router: Router,\r\n    private route: ActivatedRoute, private chatService: ChatService, private formBuilder: FormBuilder,\r\n    private modalService: NgbModal, private _toastr: ToastrService) {\r\n    this.messageForm = this.formBuilder.group({ text: '' });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getRequests();\r\n    this.user = localStorage.getItem('User-role');\r\n  }\r\n\r\n  getRequests() {\r\n    this.requestService.getReceived()\r\n      .subscribe((data: IAllRequests) => {\r\n        this.all = data.all;\r\n        this.pending = data.pending;\r\n        this.paid = data.paid;\r\n        this.finished = data.finished;\r\n      });\r\n  }\r\n\r\n  accept(req: IRequest) {\r\n    if (req.bundleId == -1)\r\n      this.requestService.acceptRequest(req.id)\r\n        .subscribe(\r\n          data => { this.getRequests() },\r\n          error => { this.toastr.error(error.error) }\r\n        );\r\n    else\r\n      this.requestService.acceptBundle(req.bundleId)\r\n        .subscribe(data => { this.getRequests() },\r\n          error => { this.toastr.error(error.error) });\r\n  }\r\n\r\n  refuse(req: IRequest) {\r\n    if (req.bundleId == -1)\r\n      this.requestService.refuseRequest(req.id)\r\n        .subscribe(data => { this.getRequests() },\r\n          error => { this.toastr.error(error.error) });\r\n    else\r\n      this.requestService.refuseBundle(req.bundleId)\r\n        .subscribe(data => { this.getRequests() },\r\n          error => { this.toastr.error(error.error) });\r\n  }\r\n\r\n  openAd(req: IRequest) {\r\n    this.router.navigate(['car', req.adId], { relativeTo: this.route.parent });\r\n  }\r\n\r\n  openReport(content, req) {\r\n    this.myModalReport = this.modalService.open(content);\r\n    this.request = req;\r\n  }\r\n\r\n  sendReport() {\r\n    if (this.textCommentReport == undefined || this.textCommentReport == \"\" ||\r\n      this.kilometrage == undefined || this.kilometrage == null || this.kilometrage == 0) {\r\n      alert(\"Enter info properly!\");\r\n      return;\r\n    }\r\n\r\n    let newReport: IReport = {\r\n      id: null,\r\n      kilometrage: this.kilometrage,\r\n      comment: this.textCommentReport,\r\n      ad_id: this.request.adId,\r\n      user_id: this.request.userId\r\n    };\r\n    this.requestService.createReport(newReport).subscribe(data => {\r\n      this.report = data;\r\n    }, err => {\r\n      alert(\"Error\");\r\n    });\r\n\r\n    this.myModalReport.close();\r\n  }\r\n\r\n  onSubmit(mess: { text: String; }) {\r\n    this.newMessage = {\r\n      id: -1,\r\n      text: mess.text,\r\n      sent: new Date(),\r\n      user: 'sent',\r\n      companionId: this.companionId,\r\n    };\r\n    this.chatService.sendMessage(this.newMessage)\r\n      .subscribe(() => {\r\n        console.log(\"Message sent\");\r\n      }\r\n      );\r\n\r\n    this.messageForm.reset();\r\n    this.closeButton.nativeElement.click();\r\n  }\r\n\r\n  setCompanion(req: IRequest) {\r\n    this.companionId = req.userId;\r\n  }\r\n}\r\n","<div class=\"container\">\r\n   <div class=\"col justify-content-center\">\r\n      <ul class=\"nav nav-tabs\">\r\n         <li class=\"nav-item active\">\r\n            <a class=\"nav-link active\" data-toggle=\"pill\" href=\"#allRequests\"\r\n               >All</a\r\n            >\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" data-toggle=\"pill\" href=\"#active\">Active</a>\r\n         </li>\r\n\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" data-toggle=\"pill\" href=\"#ongoing\">Ongoing</a>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" data-toggle=\"pill\" href=\"#finished\">Finished</a>\r\n         </li>\r\n      </ul>\r\n      <div class=\"tab-content\">\r\n         <div id=\"allRequests\" class=\"tab-pane fade show active\">\r\n            <table class=\"table table-hover\">\r\n               <thead class=\"thead-dark\">\r\n                  <tr>\r\n                     <th scope=\"col\">Ad</th>\r\n                     <th scope=\"col\">Pick up place</th>\r\n                     <th scope=\"col\">Pick up date</th>\r\n                     <th scope=\"col\">Return date</th>\r\n                     <th scope=\"col\">Status</th>\r\n                     <th scope=\"col\">Bundle id</th>\r\n                     <th scope=\"col\">View car</th>\r\n                  </tr>\r\n               </thead>\r\n               <tbody>\r\n                  <tr *ngFor=\"let req of all\">\r\n                     <td>{{ req.adId }}</td>\r\n                     <td>{{ req.pickUpPlace }}</td>\r\n                     <td>{{ req.pickUpDate }}</td>\r\n                     <td>{{ req.returnDate }}</td>\r\n                     <td>{{ req.status }}</td>\r\n                     <td>{{ req.bundleId == -1 ? \"\" : req.bundleId }}</td>\r\n                     <td>\r\n                        <button class=\"btn btn-info\" (click)=\"openAd(req)\">\r\n                           View\r\n                        </button>\r\n                     </td>\r\n                  </tr>\r\n               </tbody>\r\n            </table>\r\n         </div>\r\n         <div id=\"active\" class=\"tab-pane fade\">\r\n            <table class=\"table table-hover\">\r\n               <thead class=\"thead-dark\">\r\n                  <tr>\r\n                     <th scope=\"col\">Ad</th>\r\n                     <th scope=\"col\">Pick up place</th>\r\n                     <th scope=\"col\">Pick up date</th>\r\n                     <th scope=\"col\">Return date</th>\r\n                     <th scope=\"col\">Status</th>\r\n                     <th scope=\"col\">Bundle id</th>\r\n                     <th scope=\"col\">Accept</th>\r\n                     <th scope=\"col\">Refuse</th>\r\n                     <th scope=\"col\">View ad</th>\r\n                  </tr>\r\n               </thead>\r\n               <tbody>\r\n                  <tr *ngFor=\"let req of pending\">\r\n                     <td>{{ req.adId }}</td>\r\n                     <td>{{ req.pickUpPlace }}</td>\r\n                     <td>{{ req.pickUpDate }}</td>\r\n                     <td>{{ req.returnDate }}</td>\r\n                     <td>{{ req.status }}</td>\r\n                     <td>{{ req.bundleId == -1 ? \"\" : req.bundleId }}</td>\r\n                     <td>\r\n                        <button class=\"btn btn-success\" (click)=\"accept(req)\">\r\n                           Accep\r\n                        </button>\r\n                     </td>\r\n\r\n                     <td>\r\n                        <button class=\"btn btn-danger\" (click)=\"refuse(req)\">\r\n                           Refuse\r\n                        </button>\r\n                     </td>\r\n                     <td>\r\n                        <button class=\"btn btn-info\" (click)=\"openAd(req)\">\r\n                           View\r\n                        </button>\r\n                     </td>\r\n                  </tr>\r\n               </tbody>\r\n            </table>\r\n         </div>\r\n         <div id=\"ongoing\" class=\"tab-pane fade\">\r\n            <table class=\"table table-hover\">\r\n               <thead class=\"thead-dark\">\r\n                  <tr>\r\n                     <th scope=\"col\">Ad</th>\r\n                     <th scope=\"col\">Pick up place</th>\r\n                     <th scope=\"col\">Pick up date</th>\r\n                     <th scope=\"col\">Return date</th>\r\n                     <th scope=\"col\">Status</th>\r\n                     <th scope=\"col\">Bundle id</th>\r\n                     <th scope=\"col\">Chat</th>\r\n                     <th scope=\"col\">View ad</th>\r\n                  </tr>\r\n               </thead>\r\n               <tbody>\r\n                  <tr *ngFor=\"let req of paid\">\r\n                     <td>{{ req.adId }}</td>\r\n                     <td>{{ req.pickUpPlace }}</td>\r\n                     <td>{{ req.pickUpDate }}</td>\r\n                     <td>{{ req.returnDate }}</td>\r\n                     <td>{{ req.status }}</td>\r\n                     <td>{{ req.bundleId == -1 ? \"\" : req.bundleId }}</td>\r\n                     <td>\r\n                        <button\r\n                           class=\"btn btn-dark\"\r\n                           data-toggle=\"modal\"\r\n                           data-target=\"#exampleModal\"\r\n                           (click)=\"setCompanion(req)\"\r\n                        >\r\n                           Chat\r\n                        </button>\r\n                     </td>\r\n                     <td>\r\n                        <button class=\"btn btn-info\" (click)=\"openAd(req)\">\r\n                           View\r\n                        </button>\r\n                     </td>\r\n                  </tr>\r\n               </tbody>\r\n            </table>\r\n         </div>\r\n         <div id=\"finished\" class=\"tab-pane fade\">\r\n            <table class=\"table table-hover\">\r\n               <thead class=\"thead-dark\">\r\n                  <tr>\r\n                     <th scope=\"col\">Ad</th>\r\n                     <th scope=\"col\">Pick up place</th>\r\n                     <th scope=\"col\">Pick up date</th>\r\n                     <th scope=\"col\">Return date</th>\r\n                     <th scope=\"col\">Status</th>\r\n                     <th scope=\"col\">Bundle id</th>\r\n                     <th scope=\"col\">Report</th>\r\n                     <th scope=\"col\">View ad</th>\r\n                  </tr>\r\n               </thead>\r\n               <tbody>\r\n                  <tr *ngFor=\"let req of finished\">\r\n                     <td>{{ req.adId }}</td>\r\n                     <td>{{ req.pickUpPlace }}</td>\r\n                     <td>{{ req.pickUpDate }}</td>\r\n                     <td>{{ req.returnDate }}</td>\r\n                     <td>{{ req.status }}</td>\r\n                     <td>{{ req.bundleId == -1 ? \"\" : req.bundleId }}</td>\r\n                     <td>\r\n                        <button\r\n                           class=\"btn btn-dark\"\r\n                           (click)=\"openReport(mymodal_report, req)\"\r\n                        >\r\n                           Report\r\n                        </button>\r\n                     </td>\r\n                     <td>\r\n                        <button class=\"btn btn-info\" (click)=\"openAd(req)\">\r\n                           View\r\n                        </button>\r\n                     </td>\r\n                  </tr>\r\n               </tbody>\r\n            </table>\r\n         </div>\r\n      </div>\r\n   </div>\r\n   <ng-template #mymodal_report let-modal>\r\n      <div class=\"modal-header\">\r\n         <h4 class=\"modal-title\" id=\"modal-basic-title\">Report</h4>\r\n         <button\r\n            type=\"button\"\r\n            class=\"close\"\r\n            aria-label=\"Close\"\r\n            (click)=\"modal.dismiss('Cross click')\"\r\n         >\r\n            <span aria-hidden=\"true\">&times;</span>\r\n         </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n         <label> Comment </label><br />\r\n         <textarea\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"firstName\"\r\n            placeholder=\"Comment\"\r\n            value=\"\"\r\n            [(ngModel)]=\"textCommentReport\"\r\n         ></textarea\r\n         ><br />\r\n         <label> Enter new kilometers </label><br />\r\n         <input type=\"number\" [(ngModel)]=\"kilometrage\" />\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n         <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-dark\"\r\n            (click)=\"sendReport()\"\r\n         >\r\n            Send\r\n         </button>\r\n      </div>\r\n   </ng-template>\r\n   <!-- Modal -->\r\n   <div\r\n      class=\"modal fade\"\r\n      id=\"exampleModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n   >\r\n      <div class=\"modal-dialog\">\r\n         <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n               <h5 class=\"modal-title\" id=\"exampleModalLabel\">New message</h5>\r\n               <button\r\n                  type=\"button\"\r\n                  class=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n               >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n               </button>\r\n            </div>\r\n            <form\r\n               [formGroup]=\"messageForm\"\r\n               (ngSubmit)=\"onSubmit(messageForm.value)\"\r\n            >\r\n               <div class=\"modal-body\">\r\n                  <div class=\"form-group\">\r\n                     <label for=\"message-text\" class=\"col-form-label\"\r\n                        >Message:</label\r\n                     >\r\n                     <textarea\r\n                        class=\"form-control\"\r\n                        id=\"message-text\"\r\n                        formControlName=\"text\"\r\n                     ></textarea>\r\n                  </div>\r\n               </div>\r\n               <div class=\"modal-footer\">\r\n                  <button\r\n                     type=\"button\"\r\n                     class=\"btn btn-secondary\"\r\n                     data-dismiss=\"modal\"\r\n                     #dismissbutton\r\n                  >\r\n                     Close\r\n                  </button>\r\n                  <button type=\"submit\" class=\"btn btn-primary\">\r\n                     Send message\r\n                  </button>\r\n               </div>\r\n            </form>\r\n         </div>\r\n      </div>\r\n   </div>\r\n</div>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { IRequest } from './shared/irequest.request';\r\nimport { RequestService } from './shared/request.service';\r\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { IAllRequests } from './shared/irequests.all';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { ChatService } from '../chat/shared/chat.service';\r\nimport { IComment } from '../comment/shared/comment';\r\nimport { IGrade } from '../comment/shared/grade';\r\nimport { CommentService } from '../comment/shared/comment.service';\r\nimport { GradeService } from '../comment/shared/grade.service';\r\n\r\n@Component({\r\n  selector: 'app-requests',\r\n  templateUrl: './requests.component.html',\r\n  styleUrls: ['./requests.component.css']\r\n})\r\nexport class RequestsComponent implements OnInit {\r\n  @ViewChild('dismissbutton') closeButton;\r\n\r\n  all: IRequest[];\r\n  pending: IRequest[];\r\n  paid: IRequest[];\r\n  finished: IRequest[];\r\n\r\n  request: IRequest;\r\n  textComment: string;\r\n  currentRate: number = 0;\r\n  myModal: NgbModalRef;\r\n  userRole: string;\r\n  checkCommentFlag: boolean = false;\r\n  checkGradeFlag: boolean = false;\r\n\r\n  messageForm;\r\n  newMessage;\r\n  companionId: number;\r\n\r\n  constructor(private requestService: RequestService, private router: Router, private route: ActivatedRoute,\r\n    private _toastr: ToastrService, private formBuilder: FormBuilder, private chatService: ChatService,\r\n    private commentService: CommentService, private gradeService: GradeService, private modalService: NgbModal) {\r\n    this.messageForm = this.formBuilder.group({ text: '' });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getRequests();\r\n    this.userRole = localStorage.getItem(\"User-role\");\r\n  }\r\n\r\n  getRequests() {\r\n    this.requestService.getRequests()\r\n      .subscribe((data: IAllRequests) => {\r\n        this.all = data.all;\r\n        this.pending = data.pending;\r\n        this.paid = data.paid;\r\n        this.finished = data.finished;\r\n      });\r\n  }\r\n\r\n  cancel(req: IRequest) {\r\n    if (req.bundleId == -1)\r\n      this.requestService.cancelRequest(req.id).subscribe(data => { this.getRequests() },\r\n        error => { this._toastr.error(error.error) });\r\n    else\r\n      this.requestService.cancelBundle(req.bundleId).subscribe(data => { this.getRequests() },\r\n        error => { this._toastr.error(error.error) });\r\n  }\r\n\r\n  openAd(req: IRequest) {\r\n    this.router.navigate(['car', req.adId], { relativeTo: this.route.parent });\r\n  }\r\n\r\n  onSubmit(mess: { text: String; }) {\r\n    this.newMessage = {\r\n      id: -1,\r\n      text: mess.text,\r\n      sent: new Date(),\r\n      user: 'sent',\r\n      companionId: this.companionId,\r\n    };\r\n    this.chatService.sendMessage(this.newMessage)\r\n      .subscribe(() => {\r\n        console.log(\"Message sent\");\r\n      }\r\n      );\r\n\r\n    this.messageForm.reset();\r\n    this.closeButton.nativeElement.click();\r\n  }\r\n\r\n  setCompanion(req: IRequest) {\r\n    this.companionId = req.userId;\r\n  }\r\n\r\n\r\n  checkDate(date) {\r\n    var today = new Date();\r\n    var inputDate = new Date(date);\r\n\r\n    if (inputDate.setHours(0, 0, 0, 0) <= today.setHours(0, 0, 0, 0)) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  checkComment(id) {\r\n    this.commentService.checkComment(id, localStorage.getItem('Username')).subscribe(\r\n      data => {\r\n        this.checkCommentFlag = data;\r\n      }\r\n    );\r\n  }\r\n\r\n  checkGrade(id) {\r\n    this.gradeService.checkGrade(id, localStorage.getItem('Username')).subscribe(\r\n      data => {\r\n        this.checkGradeFlag = data;\r\n      }\r\n    );\r\n  }\r\n\r\n  open(content, req) {\r\n    this.myModal = this.modalService.open(content);\r\n    this.request = req;\r\n    this.checkComment(this.request.adId);\r\n    this.checkGrade(this.request.adId);\r\n  }\r\n\r\n  send() {\r\n    if (this.textComment == '' && this.currentRate == 0) {\r\n      this._toastr.info(\"Please, fill the information\")\r\n      return;\r\n    }\r\n\r\n    if (this.textComment != \"\") {\r\n      let comment: IComment = {\r\n        id: null,\r\n        text: this.textComment,\r\n        approved: false,\r\n        adId: this.request.adId,\r\n        carId: null,\r\n        role: this.userRole,\r\n        userUsername: localStorage.getItem('Username')\r\n      };\r\n      this.commentService.createComment(comment).subscribe(\r\n        data => {\r\n          this._toastr.success(\"Comment succesfully created\", \"Comment\");\r\n        },\r\n        error => {\r\n          if (error.status == 400)\r\n            this._toastr.info(\"Comment already sent\", \"Comment\");\r\n          else\r\n            this._toastr.error(\"Error creating comment\", \"Comment\");\r\n        }\r\n      );\r\n    }\r\n\r\n    if (this.currentRate != 0) {\r\n      let grade: IGrade = {\r\n        id: null,\r\n        grade: this.currentRate,\r\n        adId: this.request.adId,\r\n        carId: null,\r\n        userUsername: localStorage.getItem('Username')\r\n      };\r\n      this.gradeService.createGrade(grade).subscribe(\r\n        data => {\r\n          this._toastr.success(\"Grade succesfully created\", \"Grade\");\r\n        },\r\n        error => {\r\n          if (error.status == 400)\r\n            this._toastr.info(\"Grade already sent\", \"Grade\");\r\n          else\r\n            this._toastr.error(\"Error creating grade\", \"Grade\");\r\n        }\r\n      );\r\n    }\r\n    this.textComment = '';\r\n    this.currentRate = 0;\r\n    this.myModal.close();\r\n  }\r\n}\r\n","<div class=\"container\">\r\n   <div class=\"col justify-content-center\">\r\n      <ul class=\"nav nav-tabs\">\r\n         <li class=\"nav-item active\">\r\n            <a class=\"nav-link active\" data-toggle=\"pill\" href=\"#allRequests\"\r\n               >All</a\r\n            >\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" data-toggle=\"pill\" href=\"#active\">Active</a>\r\n         </li>\r\n\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" data-toggle=\"pill\" href=\"#ongoing\">Ongoing</a>\r\n         </li>\r\n         <li class=\"nav-item\">\r\n            <a class=\"nav-link\" data-toggle=\"pill\" href=\"#finished\">Finished</a>\r\n         </li>\r\n      </ul>\r\n      <div class=\"tab-content\">\r\n         <div id=\"allRequests\" class=\"tab-pane fade show active\">\r\n            <table class=\"table table-hover\">\r\n               <thead class=\"thead-dark\">\r\n                  <tr>\r\n                     <th scope=\"col\">Ad</th>\r\n                     <th scope=\"col\">Pick up place</th>\r\n                     <th scope=\"col\">Pick up date</th>\r\n                     <th scope=\"col\">Return date</th>\r\n                     <th scope=\"col\">Status</th>\r\n                     <th scope=\"col\">Bundle id</th>\r\n                     <th scope=\"col\">View car</th>\r\n                  </tr>\r\n               </thead>\r\n               <tbody>\r\n                  <tr *ngFor=\"let req of all\">\r\n                     <td>{{ req.adId }}</td>\r\n                     <td>{{ req.pickUpPlace }}</td>\r\n                     <td>{{ req.pickUpDate }}</td>\r\n                     <td>{{ req.returnDate }}</td>\r\n                     <td>{{ req.status }}</td>\r\n                     <td>{{ req.bundleId == -1 ? \"\" : req.bundleId }}</td>\r\n                     <td>\r\n                        <button class=\"btn btn-info\" (click)=\"openAd(req)\">\r\n                           View\r\n                        </button>\r\n                     </td>\r\n                  </tr>\r\n               </tbody>\r\n            </table>\r\n         </div>\r\n         <div id=\"active\" class=\"tab-pane fade\">\r\n            <table class=\"table table-hover\">\r\n               <thead class=\"thead-dark\">\r\n                  <tr>\r\n                     <th scope=\"col\">Ad</th>\r\n                     <th scope=\"col\">Pick up place</th>\r\n                     <th scope=\"col\">Pick up date</th>\r\n                     <th scope=\"col\">Return date</th>\r\n                     <th scope=\"col\">Status</th>\r\n                     <th scope=\"col\">Bundle id</th>\r\n                     <th scope=\"col\">Cancel</th>\r\n                     <th scope=\"col\">View ad</th>\r\n                  </tr>\r\n               </thead>\r\n               <tbody>\r\n                  <tr *ngFor=\"let req of pending\">\r\n                     <td>{{ req.adId }}</td>\r\n                     <td>{{ req.pickUpPlace }}</td>\r\n                     <td>{{ req.pickUpDate }}</td>\r\n                     <td>{{ req.returnDate }}</td>\r\n                     <td>{{ req.status }}</td>\r\n                     <td>{{ req.bundleId == -1 ? \"\" : req.bundleId }}</td>\r\n                     <td>\r\n                        <button class=\"btn btn-dark\" (click)=\"cancel(req)\">\r\n                           Cancel\r\n                        </button>\r\n                     </td>\r\n                     <td>\r\n                        <button class=\"btn btn-info\" (click)=\"openAd(req)\">\r\n                           View\r\n                        </button>\r\n                     </td>\r\n                  </tr>\r\n               </tbody>\r\n            </table>\r\n         </div>\r\n         <div id=\"ongoing\" class=\"tab-pane fade\">\r\n            <table class=\"table table-hover\">\r\n               <thead class=\"thead-dark\">\r\n                  <tr>\r\n                     <th scope=\"col\">Ad</th>\r\n                     <th scope=\"col\">Pick up place</th>\r\n                     <th scope=\"col\">Pick up date</th>\r\n                     <th scope=\"col\">Return date</th>\r\n                     <th scope=\"col\">Status</th>\r\n                     <th scope=\"col\">Bundle id</th>\r\n                     <th scope=\"col\">Chat</th>\r\n                     <th scope=\"col\">View ad</th>\r\n                  </tr>\r\n               </thead>\r\n               <tbody>\r\n                  <tr *ngFor=\"let req of paid\">\r\n                     <td>{{ req.adId }}</td>\r\n                     <td>{{ req.pickUpPlace }}</td>\r\n                     <td>{{ req.pickUpDate }}</td>\r\n                     <td>{{ req.returnDate }}</td>\r\n                     <td>{{ req.status }}</td>\r\n                     <td>{{ req.bundleId == -1 ? \"\" : req.bundleId }}</td>\r\n                     <td>\r\n                        <button\r\n                           class=\"btn btn-dark\"\r\n                           data-toggle=\"modal\"\r\n                           data-target=\"#exampleModal\"\r\n                           (click)=\"setCompanion(req)\"\r\n                        >\r\n                           Chat\r\n                        </button>\r\n                     </td>\r\n                     <td>\r\n                        <button class=\"btn btn-info\" (click)=\"openAd(req)\">\r\n                           View\r\n                        </button>\r\n                     </td>\r\n                  </tr>\r\n               </tbody>\r\n            </table>\r\n         </div>\r\n         <div id=\"finished\" class=\"tab-pane fade\">\r\n            <table class=\"table table-hover\">\r\n               <thead class=\"thead-dark\">\r\n                  <tr>\r\n                     <th scope=\"col\">Ad</th>\r\n                     <th scope=\"col\">Pick up place</th>\r\n                     <th scope=\"col\">Pick up date</th>\r\n                     <th scope=\"col\">Return date</th>\r\n                     <th scope=\"col\">Status</th>\r\n                     <th scope=\"col\">Bundle id</th>\r\n                     <th scope=\"col\">Comment & grade</th>\r\n                     <th scope=\"col\">View ad</th>\r\n                  </tr>\r\n               </thead>\r\n               <tbody>\r\n                  <tr *ngFor=\"let req of finished\">\r\n                     <td>{{ req.adId }}</td>\r\n                     <td>{{ req.pickUpPlace }}</td>\r\n                     <td>{{ req.pickUpDate }}</td>\r\n                     <td>{{ req.returnDate }}</td>\r\n                     <td>{{ req.status }}</td>\r\n                     <td>{{ req.bundleId == -1 ? \"\" : req.bundleId }}</td>\r\n                     <td>\r\n                        <button\r\n                           class=\"btn btn-dark\"\r\n                           (click)=\"open(mymodal, req)\"\r\n                        >\r\n                           Comment\r\n                        </button>\r\n                     </td>\r\n                     <td>\r\n                        <button class=\"btn btn-info\" (click)=\"openAd(req)\">\r\n                           View\r\n                        </button>\r\n                     </td>\r\n                  </tr>\r\n               </tbody>\r\n            </table>\r\n         </div>\r\n      </div>\r\n   </div>\r\n   <ng-template #mymodal let-modal>\r\n      <div class=\"modal-header\">\r\n         <h4 class=\"modal-title\" id=\"modal-basic-title\">Comment and grade</h4>\r\n         <button\r\n            type=\"button\"\r\n            class=\"close\"\r\n            aria-label=\"Close\"\r\n            (click)=\"modal.dismiss('Cross click')\"\r\n         >\r\n            <span aria-hidden=\"true\">&times;</span>\r\n         </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n         <label> Comment </label><br />\r\n         <textarea\r\n            *ngIf=\"checkCommentFlag == false\"\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"firstName\"\r\n            placeholder=\"Comment\"\r\n            value=\"\"\r\n            [(ngModel)]=\"textComment\"\r\n         ></textarea>\r\n         <span *ngIf=\"checkCommentFlag == true\"\r\n            >You have already commented this ad</span\r\n         >\r\n         <br />\r\n         <label> Rating </label><br />\r\n         <ngb-rating\r\n            *ngIf=\"checkGradeFlag == false\"\r\n            [(rate)]=\"currentRate\"\r\n            [max]=\"5\"\r\n         >\r\n            <ng-template let-fill=\"fill\" let-index=\"index\">\r\n               <span\r\n                  class=\"star\"\r\n                  [class.filled]=\"fill === 100\"\r\n                  [class.bad]=\"index < 0\"\r\n                  >&#9733;</span\r\n               >\r\n            </ng-template>\r\n         </ngb-rating>\r\n         <span *ngIf=\"checkGradeFlag == true\"\r\n            >You have already graded this ad</span\r\n         >\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n         <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"send()\">\r\n            Send\r\n         </button>\r\n      </div>\r\n   </ng-template>\r\n   <!-- Modal -->\r\n   <div\r\n      class=\"modal fade\"\r\n      id=\"exampleModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n   >\r\n      <div class=\"modal-dialog\">\r\n         <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n               <h5 class=\"modal-title\" id=\"exampleModalLabel\">New message</h5>\r\n               <button\r\n                  type=\"button\"\r\n                  class=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n               >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n               </button>\r\n            </div>\r\n            <form\r\n               [formGroup]=\"messageForm\"\r\n               (ngSubmit)=\"onSubmit(messageForm.value)\"\r\n            >\r\n               <div class=\"modal-body\">\r\n                  <div class=\"form-group\">\r\n                     <label for=\"message-text\" class=\"col-form-label\"\r\n                        >Message:</label\r\n                     >\r\n                     <textarea\r\n                        class=\"form-control\"\r\n                        id=\"message-text\"\r\n                        formControlName=\"text\"\r\n                     ></textarea>\r\n                  </div>\r\n               </div>\r\n               <div class=\"modal-footer\">\r\n                  <button\r\n                     type=\"button\"\r\n                     class=\"btn btn-secondary\"\r\n                     data-dismiss=\"modal\"\r\n                     #dismissbutton\r\n                  >\r\n                     Close\r\n                  </button>\r\n                  <button type=\"submit\" class=\"btn btn-primary\">\r\n                     Send message\r\n                  </button>\r\n               </div>\r\n            </form>\r\n         </div>\r\n      </div>\r\n   </div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { IRequest } from './irequest.request';\r\nimport { environment } from 'src/environments/environment';\r\nimport { IReport } from './ireport.report';\r\nimport { IAllRequests } from './irequests.all';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RequestService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getRequests() {\r\n    //return this.http.get<IRequest[]>(\"http://localhost:8084/1\");\r\n    return this.http.get<IAllRequests>(environment.api + \"/request\");\r\n  }\r\n\r\n  getReceived() {\r\n    return this.http.get<IAllRequests>(environment.api + \"/request/received\")\r\n  }\r\n\r\n  acceptRequest(reqId) {\r\n    return this.http.patch(environment.api + \"/request/accept\", { id: reqId });\r\n  }\r\n\r\n  acceptBundle(bundleId) {\r\n    return this.http.patch(environment.api + \"/request/bundle/accept\", { id: bundleId });\r\n  }\r\n\r\n  refuseRequest(reqId) {\r\n    return this.http.patch(environment.api + \"/request/refuse\", { id: reqId });\r\n  }\r\n\r\n  refuseBundle(bundleId) {\r\n    return this.http.patch(environment.api + \"/request/bundle/refuse\", { id: bundleId });\r\n  }\r\n\r\n  cancelRequest(reqId) {\r\n    return this.http.patch(environment.api + \"/request/cancel\", { id: reqId });\r\n  }\r\n\r\n  cancelBundle(bundleId) {\r\n    return this.http.patch(environment.api + \"/request/bundle/cancel\", { id: bundleId });\r\n  }\r\n\r\n  createReport(report: IReport) {\r\n    return this.http.post<any>(environment.api + \"/car/report\", report);\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Mark } from '../car/shared/mark';\r\nimport { Model } from '../car/shared/model';\r\nimport { Gearbox } from '../car/shared/gearbox';\r\nimport { CarClass } from '../car/shared/carclass';\r\nimport { Fuel } from '../car/shared/fuel';\r\nimport { CarService } from '../car/shared/car.service';\r\nimport { Search } from './shared/search';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { SearchService } from './shared/search.service';\r\nimport { Ad } from '../car/shared/ad';\r\nimport { AdInfo } from '../car/shared/adInfo';\r\nimport { IRequest } from \"../requests/shared/irequest.request\";\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { IComment } from '../comment/shared/comment';\r\nimport { CommentService } from '../comment/shared/comment.service';\r\nimport { NgbModalRef, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@Component({\r\n  selector: 'app-search',\r\n  templateUrl: './search.component.html',\r\n  styleUrls: ['./search.component.css']\r\n})\r\nexport class SearchComponent implements OnInit {\r\n  marks: Mark[];\r\n  models: Model[];\r\n  gearboxes: Gearbox[];\r\n  classes: CarClass[];\r\n  fuels: Fuel[];\r\n  search: Search;\r\n  ads: AdInfo[] = [];\r\n  role: string = '';\r\n  cities: string[];\r\n  pages: number[];\r\n  viewModal: NgbModalRef;\r\n  sortSelected: string = 'Sort by';\r\n  ad: AdInfo;\r\n  comments: IComment[];\r\n  picture: {};\r\n  count: number = 0;\r\n\r\n  constructor(private carService: CarService,\r\n    private route: ActivatedRoute,\r\n    private _toastr: ToastrService,\r\n    private searchService: SearchService,\r\n    private router: Router,\r\n    private modalService: NgbModal,\r\n    private commentService: CommentService) {\r\n    this.search = {\r\n      cdw: false,\r\n      kilometrageDrive: 0,\r\n      kilometrageFrom: 0,\r\n      kilometrageTo: 0,\r\n      numberOfChildSeats: 0,\r\n      priceFrom: 0,\r\n      priceTo: 0,\r\n      carClass: {\r\n        id: null,\r\n        name: ''\r\n      },\r\n      fuel: {\r\n        id: null,\r\n        type: ''\r\n      },\r\n      gearbox: {\r\n        id: null,\r\n        type: ''\r\n      },\r\n      model: {\r\n        id: null,\r\n        name: '',\r\n      },\r\n      mark: {\r\n        id: null,\r\n        name: '',\r\n        models: null\r\n      },\r\n      pickUpPlace: '',\r\n      fromDate: null,\r\n      toDate: null\r\n    };\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getData();\r\n    this.role = localStorage.getItem(\"User-role\");\r\n  }\r\n\r\n  getData() {\r\n    this.carService.getModels()\r\n      .subscribe((data: Model[]) => this.models = data);\r\n    this.carService.getMarks()\r\n      .subscribe((data: Mark[]) => this.marks = data);\r\n    this.carService.getGearboxes()\r\n      .subscribe((data: Gearbox[]) => this.gearboxes = data);\r\n    this.carService.getFuels()\r\n      .subscribe((data: Fuel[]) => this.fuels = data);\r\n    this.carService.getCarClasses()\r\n      .subscribe((data: CarClass[]) => this.classes = data);\r\n    this.carService.getCities()\r\n      .subscribe((data: string[]) => this.cities = data);\r\n  }\r\n\r\n  clear() {\r\n    this.search.cdw = false;\r\n    this.search.kilometrageDrive = 0;\r\n    this.search.kilometrageFrom = 0;\r\n    this.search.kilometrageTo = 0;\r\n    this.search.numberOfChildSeats = 0;\r\n    this.search.priceFrom = 0;\r\n    this.search.priceTo = 0;\r\n    this.search.carClass = { id: null, name: '' };\r\n    this.search.fuel = { id: null, type: '' };\r\n    this.search.gearbox = { id: null, type: '' };\r\n    this.search.model = { id: null, name: '' };\r\n    this.search.mark = { id: null, name: '', models: null };\r\n    this.search.pickUpPlace = '';\r\n    this.search.fromDate = null;\r\n    this.search.toDate = null;\r\n  }\r\n\r\n  clearAdditional() {\r\n    this.search.cdw = false;\r\n    this.search.kilometrageDrive = 0;\r\n    this.search.kilometrageFrom = 0;\r\n    this.search.kilometrageTo = 0;\r\n    this.search.numberOfChildSeats = 0;\r\n    this.search.priceFrom = 0;\r\n    this.search.priceTo = 0;\r\n    this.search.carClass = {id: null, name: ''};\r\n    this.search.fuel = {id: null, type: ''};\r\n    this.search.gearbox = {id: null, type: ''};\r\n    this.search.model = {id: null, name: ''};\r\n    this.search.mark = {id: null, name: '', models: null};\r\n    this.searchAds(0);\r\n  }\r\n\r\n  searchAds(page: number) {\r\n    if (this.search.pickUpPlace == '' || this.search.fromDate == null || this.search.toDate == null) {\r\n      this._toastr.info('Please fill place, date from and date to', 'Search');\r\n      return;\r\n    }\r\n\r\n    this.searchService.searchAds(this.search, page, this.sortSelected).subscribe(\r\n      data => {\r\n        this.ads = data;\r\n        this.pages = [];\r\n        for (let i = 1; i <= this.ads[0].pages; i++) {\r\n          this.pages[i - 1] = i;\r\n        }\r\n        if (this.ads.length > 0) {\r\n          this._toastr.success('Search succesfully eneded', 'Search');\r\n        } else {\r\n          this._toastr.info('No results found', 'Search');\r\n        }\r\n      },\r\n      error => {\r\n        if (error.status == 400) {\r\n          this._toastr.info('Dates are not valid', 'Search');\r\n        } else {\r\n          this._toastr.error('Error during search', 'Search');\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  view(content, ad: AdInfo) {\r\n    this.picture = {};\r\n    this.count = 0;\r\n    this.carService.getOneAdSearch(ad.id).subscribe(\r\n      data => {\r\n        this.ad = data;\r\n        this.picture = this.ad.images[0];\r\n        this.count = 0;\r\n        this.commentService.getCommentsForCar(this.ad.car.id).subscribe(\r\n          data => {\r\n            this.comments = data\r\n          }\r\n        );\r\n      }\r\n    );\r\n\r\n    this.viewModal = this.modalService.open(content, { size: 'lg', scrollable: true });\r\n  }\r\n\r\n  sort() {\r\n    this.searchAds(0);\r\n  }\r\n\r\n  next(){\r\n    if(this.count == this.ad.images.length - 1){\r\n        this.count = 0;\r\n    }else{\r\n      this.count = this.count + 1;\r\n    }\r\n    this.picture = this.ad.images[this.count];\r\n  }\r\n\r\n  previous(){\r\n    if(this.count == 0){\r\n      this.count = this.ad.images.length-1;\r\n    }else{\r\n      this.count = this.count - 1;\r\n    }\r\n    this.picture = this.ad.images[this.count];\r\n  }\r\n\r\n  addToCart(ad: AdInfo) {\r\n    let reqs: IRequest[] = JSON.parse(localStorage.getItem(\"Cart\"));\r\n    let req: IRequest = {\r\n      id: -1,\r\n      pickUpPlace: this.search.pickUpPlace,\r\n      pickUpDate: this.search.fromDate,\r\n      returnDate: this.search.toDate,\r\n      status: ad.priceList.perDay.toString(),\r\n      adId: ad.id,\r\n      bundleId: -1,\r\n      userId: ad.userId\r\n    }\r\n    if (reqs === undefined || reqs === null) {\r\n      reqs = [];\r\n    }\r\n    reqs.push(req);\r\n    localStorage.setItem(\"Cart\", JSON.stringify(reqs));\r\n  }\r\n\r\n}\r\n","<div class=\"d-flex justify-content-center\">\r\n    <div class=\"d-flex flex-column col-sm-8\">\r\n        <div>\r\n            <h3 class=\"display-4\" style=\"text-align: center;\">Search the vehicles</h3>\r\n        </div>\r\n        <div class=\"d-flex flex-row\" id=\"basicSearch\">\r\n            <div class=\"d-flex flex-column\" id=\"sp\">\r\n                <label id = \"label\" for=\"pickUpPlace\">Pick up place</label>\r\n                <select class=\"form-control\" [(ngModel)]=\"search.pickUpPlace\" id=\"pickUpPlace\">\r\n                  <option *ngFor=\"let city of cities\" [ngValue]=\"city\">{{city}}</option>\r\n               </select>\r\n            </div>\r\n            <div class=\"d-flex flex-column\" id=\"sp\">\r\n                <label id = \"label\" for=\"pickUpPlace\">From </label>\r\n                <input\r\n                [(ngModel)] = \"search.fromDate\"\r\n                type=\"date\"\r\n                name=\"From\"\r\n                id=\"from\"\r\n                class=\"form-control\"\r\n                />\r\n            </div>\r\n            <div class=\"d-flex flex-column\" id=\"sp\">\r\n                <label id = \"label\" for=\"to\">To</label>\r\n                <input\r\n                [(ngModel)] = \"search.toDate\"\r\n                type=\"date\"\r\n                name=\"to\"\r\n                id=\"to\"\r\n                class=\"form-control\"\r\n                />\r\n            </div>\r\n            <div class=\"d-flex flex-column\">\r\n                <button class=\"btn btn-outline-success\" id=\"btnSearch\" (click) = \"searchAds(0)\">Search</button>\r\n            </div> \r\n            <div class=\"d-flex flex-column\">\r\n                <button class=\"btn btn-outline-danger\" id=\"btnSearch\" (click) = \"clear()\">Clear</button>\r\n            </div> \r\n        </div>\r\n        <div class=\"d-flex flex-row\">\r\n            <div class=\"d-flex flex-column\" id=\"ss\">\r\n                <h4>Additional search</h4>\r\n                <div class=\"form-group\">\r\n                    <label id = \"label\" for=\"mark\">Mark</label>\r\n                    <select class=\"form-control\" [(ngModel)]=\"search.mark\" id=\"mark\">\r\n                       <option *ngFor=\"let mark of marks\" [ngValue]=\"mark\">{{mark.name}}</option>\r\n                    </select>\r\n                 </div>\r\n                 <div class=\"form-group\" *ngIf = \"search.mark.id != null\">\r\n                    <label id = \"label\" for=\"model\">Model</label>\r\n                    <select class=\"form-control\" [(ngModel)]= \"search.model\" id=\"model\">\r\n                       <option *ngFor=\"let model of search.mark.models\" [ngValue] = \"model\">{{model.name}}</option>\r\n                    </select>\r\n                 </div>\r\n                 <div class=\"form-group\">\r\n                    <label id = \"label\" for=\"fuel\">Fuel</label>\r\n                    <select class=\"form-control\" [(ngModel)]= \"search.fuel\" id=\"fuel\">\r\n                       <option *ngFor=\"let fuel of fuels\" [ngValue]=\"fuel\">{{fuel.type}}</option>\r\n                    </select>\r\n                 </div>\r\n                 <div class=\"form-group\">\r\n                    <label id = \"label\" for=\"gearbox\">Gearbox</label>\r\n                    <select class=\"form-control\" [(ngModel)]= \"search.gearbox\" id=\"gearbox\">\r\n                       <option *ngFor=\"let gearbox of gearboxes\" [ngValue]=\"gearbox\">{{gearbox.type}}</option>\r\n                    </select>\r\n                 </div>\r\n                 <div class=\"form-group\">\r\n                    <label id = \"label\" for=\"carClass\">Class</label>\r\n                    <select class=\"form-control\" [(ngModel)]= \"search.carClass\" id=\"carClass\">\r\n                       <option *ngFor=\"let class of classes\" [ngValue]=\"class\">{{class.name}}</option>\r\n                    </select>\r\n                 </div>\r\n                 <div class=\"d-flex flex-row\">\r\n                    <div class=\"form-group flex-column\" style=\"margin-right: 5px;\">\r\n                        <label id = \"label\" for=\"priceFrom\">Price from</label>\r\n                        <input [(ngModel)] = \"search.priceFrom\" type=\"number\" min=\"0\" name=\"priceFrom\" id=\"priceFrom\" class=\"form-control\"/>\r\n                     </div> \r\n                     <div class=\"form-group flex-column\">\r\n                        <label id = \"label\" for=\"prceTo\">Price to</label>\r\n                        <input [(ngModel)] = \"search.priceTo\" type=\"number\" min=\"0\" name=\"priceTo\" id=\"priceTo\" class=\"form-control\"/>\r\n                     </div> \r\n                 </div>\r\n                 <div class=\"d-flex flex-row\">\r\n                    <div class=\"form-group flex-column\" style=\"margin-right: 5px;\">\r\n                        <label id = \"label\" for=\"kiloemtrageFrom\">Kilometrage from</label>\r\n                        <input [(ngModel)] = \"search.kilometrageFrom\" type=\"number\" min=\"0\" name=\"kiloemtrageFrom\" id=\"kiloemtrageFrom\" class=\"form-control\"/>\r\n                     </div> \r\n                     <div class=\"form-group flex-column\">\r\n                        <label id = \"label\" for=\"kilometrageTo\">Kilometrage to</label>\r\n                        <input [(ngModel)] = \"search.kilometrageTo\" type=\"number\" min=\"0\" name=\"kilometrageTo\" id=\"kilometrageTo\" class=\"form-control\"/>\r\n                     </div> \r\n                 </div>\r\n                 <div class=\"form-group\">\r\n                    <label id = \"label\" for=\"kilometrageToPass\">Kilometrage to pass</label>\r\n                    <input [(ngModel)] = \"search.kilometrageDrive\" type=\"number\" min=\"0\" name=\"kilometrageToPass\" id=\"kilometrageToPass\" class=\"form-control\"/>\r\n                 </div>\r\n                 <div class=\"d-flex flex-row\">\r\n                    <div class=\"form-group flex-column\" style=\"margin-right: 5px;\">\r\n                        <label id = \"label\" for=\"childSeats\">Child seats</label>\r\n                        <input [(ngModel)] = \"search.numberOfChildSeats\" type=\"number\" min=\"0\" name=\"childSeats\" id=\"childSeats\" class=\"form-control\"/>\r\n                     </div> \r\n                     <div class=\"form-group flex-column\">\r\n                        <label id = \"label\" for=\"cdw\">CDW</label>\r\n                        <input [(ngModel)] = \"search.cdw\" type=\"checkbox\" name=\"cdw\" id=\"cdw\" class=\"form-control\"/>\r\n                     </div> \r\n                 </div>\r\n                 <div>\r\n                    <button class=\"btn btn-outline-success\" id=\"btnSearchSecondary\" (click) = \"searchAds(0)\">Search</button>\r\n                 </div>\r\n                 <div>\r\n                    <button class=\"btn btn-outline-danger\" id=\"btnSearchSecondary\" (click) =\"clearAdditional()\">Clear</button>\r\n                 </div>\r\n            </div>\r\n            <div class=\"d-flex flex-column\" id = \"results\" >\r\n                <div class=\"d-flex flex-row\">\r\n                    <div class=\"form-group\">\r\n                        <select class=\"form-control\" [(ngModel)] = \"sortSelected\" (change) = \"sort()\" id=\"sort\">\r\n                           <option>Sort by</option>\r\n                           <option>Price higher</option>\r\n                           <option>Price lower</option>\r\n                           <option>Grade higher</option>\r\n                           <option>Grade lower</option>\r\n                           <option>Kilometrage higher</option>\r\n                           <option>Kilometrage lower</option>\r\n                        </select>\r\n                     </div>\r\n                </div>\r\n                <div>\r\n                     <div *ngIf = \"ads.length == 0\">\r\n                        <h4 class=\"display-4\" style=\"text-align: center;\">No results</h4>\r\n                     </div>\r\n                     <div id=\"ad\" class=\"d-flex flex-row\" *ngFor=\"let ad of ads\" >\r\n                           <div style=\"width: 25%; height: 150px;\">\r\n                              <img src=\"{{ad.images[0]}}\" *ngIf =\"ad.images.length != 0\" alt=\"slika\" width=\"150\" height=\"150\"/>\r\n                              <svg class=\"bd-placeholder-img card-img-top\" *ngIf =\"ad.images.length == 0\" width=\"150px\" height=\"150px\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\" role=\"img\" aria-label=\"Placeholder: Thumbnail\"><rect width=\"100%\" height=\"100%\" fill=\"#55595c\"/><text x=\"25%\" y=\"50%\" fill=\"#eceeef\" dy=\".3em\">Thumbnail</text></svg>\r\n                           </div>\r\n                           <div class=\"d-flex flex-column\" style=\"margin-left: 15px; width:25%\">\r\n                              <h6>{{ad.car.mark.name}} {{ad.car.model.name}}</h6>\r\n                              <span><i><u>From:</u></i></span>\r\n                              {{ad.fromDate | date: 'mediumDate'}}\r\n                              <span><i><u>To:</u></i></span>\r\n                              {{ad.toDate | date: 'mediumDate'}}\r\n                           </div>\r\n                           <div class=\"d-flex flex-column\" style=\"margin-left: 30px; margin-right: 30px; width:25%\">\r\n                              <span><i><u>Price per day:</u></i></span>\r\n                              {{ad.priceList.perDay }}\r\n                              <span><i><u>Kilometrage:</u></i></span>\r\n                              {{ad.car.kilometrage | number}}km\r\n                              <span><i><u>Grade:</u></i></span>\r\n                              {{ad.car.overallGrade}}\r\n                           </div>\r\n                           <div class=\"d-flex flex-column\" style=\"margin-right: 15px; margin-top: 15px; width:20%\">\r\n                              <button class=\"btn btn-outline-info\" (click) = \"view(viewModal,ad)\" >View</button>\r\n                              <br>\r\n                              <button *ngIf=\"role == 'ROLE_USER'\" class=\"btn btn-outline-success\" (click)=\"addToCart(ad)\">Add to cart</button>\r\n                           </div>\r\n                     </div>\r\n                     <div class=\"d-flex flex-wrap p-2 justify-content-center\">\r\n                        <ul class=\"pagination\">\r\n                        <li class=\"page-item active\" *ngFor = \"let i of pages\">\r\n                          <a class=\"page-link\" (click) = \"searchAds(i-1)\">{{i}}</a>\r\n                        </li>\r\n                        </ul>\r\n                     </div>\r\n                </div>    \r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<ng-template #viewModal let-modal>\r\n   <div class=\"modal-header\">\r\n      <h4 class=\"modal-title\" id=\"modal-basic-title\">{{ad.car.mark.name}} {{ad.car.model.name}}</h4>\r\n      <button\r\n         type=\"button\"\r\n         class=\"close\"\r\n         aria-label=\"Close\"\r\n         (click)=\"modal.dismiss('Cross click')\"\r\n      >\r\n         <span aria-hidden=\"true\">&times;</span>\r\n      </button>\r\n   </div>\r\n   <div class=\"modal-body\">\r\n      <div class=\"d-flex flex-column\">\r\n         <div class=\"d-flex flex-row\">\r\n            <div class=\"d-flex flex-column\" id=\"d1\" style=\"width: 40%;\">\r\n               <div class=\"card mb-4 shadow-sm\">          \r\n                  <img [src]=\"picture\" alt=\"slika\" width=\"280\" height=\"250\"/>\r\n                  {{count+1}} / {{ad.images.length}}\r\n                  <div class=\"card-body\">\r\n                     <div class=\"d-flex justify-content-between align-items-center\">\r\n                     <div class=\"btn-group\">\r\n                        <button type=\"button\" [disabled] = \"ad.images.length == 0\" class=\"btn btn-sm btn-outline-secondary\" (click) = \"previous()\">previous</button>\r\n                        <button type=\"button\" [disabled] = \"ad.images.length == 0\" class=\"btn btn-sm btn-outline-secondary\" (click) = \"next()\">next</button>\r\n                     </div>\r\n                     </div>\r\n                  </div>\r\n               </div>\r\n            <span id=\"span\"><i><u>From:</u></i></span>\r\n            {{ad.fromDate | date : 'mediumDate'}} \r\n            <span id=\"span\"><i><u>To:</u></i></span>\r\n            {{ad.toDate | date : 'mediumDate'}}\r\n            </div>\r\n            <div id=\"d1\" class=\"d-flex flex-column\" style=\"margin-left: 20px; width: 28%;\">\r\n               <span id=\"span\"><i><u>Pick up place:</u></i></span>\r\n               {{ad.pickUpPlace}}\r\n               <span id=\"span\"><i><u>Fuel:</u></i></span>\r\n               {{ad.car.fuel.type}}\r\n               <span id=\"span\"><i><u>Gearbox:</u></i></span>\r\n               {{ad.car.gearbox.type}}\r\n               <span id=\"span\"><i><u>Class:</u></i></span>\r\n               {{ad.car.carClass.name}}\r\n               <span id=\"span\"><i><u>Child Seats:</u></i></span>\r\n               {{ad.car.numberOfChildSeats}}\r\n               <span id=\"span\"><i><u>Allowed kilometrage:</u></i></span>\r\n               {{ad.allowedKilometrage | number}}km\r\n               <span id=\"span\"><i><u>Kilometrage:</u></i></span>\r\n               {{ad.car.kilometrage | number}}km\r\n               <span id=\"span\"><i><u>CDW available:</u></i></span>\r\n               {{ad.cdwAvailable}}\r\n               <span id=\"span\"><i><u>Has android:</u></i></span>\r\n               {{ad.car.hasAndroid}}\r\n            </div>\r\n            <div id=\"d1\" class=\"d-flex flex-column\" style=\"margin-left: 20px; width: 28%\">\r\n               <h3>Prices</h3><br>\r\n               <span id=\"span\"><i><u>Per day:</u></i></span>\r\n               {{ad.priceList.perDay}}\r\n               <span id=\"span\"><i><u>Extra kilometrage:</u></i></span>\r\n               {{ad.priceList.extraKilometrage}}/km\r\n               <span id=\"span\"><i><u>Discount above {{ad.priceList.discountDays}} days:</u></i></span>\r\n               {{ad.priceList.discount}}%\r\n               <span id=\"span\"><i><u>CDW:</u></i></span>\r\n               {{ad.priceList.cdw}}\r\n               <h3 style=\"margin-top: 15px;\">Grades</h3><br>\r\n               <span id=\"span\"><i><u>Overall grade:</u></i></span>\r\n               {{ad.car.overallGrade}} \r\n               <span id=\"span\"><i><u>Number of grades:</u></i></span>\r\n               {{ad.car.numberGrades}}\r\n            </div>\r\n         </div>\r\n         <div>\r\n            <div class=\"my-3 p-3 bg-white rounded shadow-sm\">\r\n               <h6 class=\"border-bottom border-gray pb-2 mb-0\">Comments</h6>\r\n               <div class=\"media text-muted pt-3\" *ngFor = \" let comment of comments\">\r\n                 <svg class=\"bd-placeholder-img mr-2 rounded\"\r\n                  width=\"32\" height=\"32\" xmlns=\"http://www.w3.org/2000/svg\"\r\n                   preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\"\r\n                    role=\"img\" aria-label=\"Placeholder: 32x32\">\r\n                    <title>Placeholder</title>\r\n                    <rect width=\"100%\" height=\"100%\" fill=\"#007bff\"/>\r\n                    <text x=\"50%\" y=\"50%\" fill=\"#007bff\" dy=\".3em\">32x32</text>\r\n                  </svg>\r\n                  <p class=\"media-body pb-3 mb-0 small lh-125 border-bottom border-gray\">\r\n                   <strong class=\"d-block text-gray-dark\">@{{comment.userUsername}}</strong>\r\n                   {{comment.text}}\r\n                 </p>\r\n               </div>\r\n           </div>\r\n         </div>\r\n      </div>\r\n   </div>\r\n</ng-template>\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Search } from './search';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SearchService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  searchAds(search: Search, page: number, sort: string) {\r\n    return this.http.post<any>(environment.api + \"/search/ad/search/\"+ page+\"/\"+sort, search);\r\n    //return this.http.post<any>(\"http://localhost:8080/ad/search/\"+ page+\"/\"+sort, search);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ICart } from './icart.cart';\r\nimport { environment } from 'src/environments/environment';\r\nimport { ICartUsers } from './icarusers.cart';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ShoppingService {\r\n\r\n  constructor(private httpClient: HttpClient) { }\r\n\r\n  rentCars(cart: ICart) {\r\n    return this.httpClient.post<ICart>(environment.api + \"/request\", cart);\r\n  }\r\n\r\n  getUsers(cars) {\r\n    return this.httpClient.post<ICartUsers>(environment.api + \"/car/ad/users-cars\", cars);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { IRequest } from '../requests/shared/irequest.request';\r\nimport { IRentRequest } from './shared/irequest.rent';\r\nimport { FormArray, FormControl, FormGroup, FormBuilder } from '@angular/forms';\r\nimport { IBundle } from './shared/ibundle.rent';\r\nimport { ShoppingService } from './shared/shopping.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { ICartUsers } from './shared/icarusers.cart';\r\n\r\n@Component({\r\n  selector: 'app-shopping-cart',\r\n  templateUrl: './shopping-cart.component.html',\r\n  styleUrls: ['./shopping-cart.component.css']\r\n})\r\nexport class ShoppingCartComponent implements OnInit {\r\n  requests: IRequest[] = [];\r\n  map: Map<number, IRequest[]> = new Map();\r\n  keys: number[] = [];\r\n  bundles: number[] = [];\r\n\r\n  bundleForm: FormGroup;\r\n  usersMap: Map<number, number>;\r\n\r\n  constructor(private shoppingService: ShoppingService, private router: Router, private route: ActivatedRoute,\r\n    private formBuilder: FormBuilder) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    let cars = { ads: [] };\r\n    this.requests = JSON.parse(localStorage.getItem(\"Cart\"));\r\n    this.requests.forEach(element => {\r\n      cars.ads.push(element.adId);\r\n    });\r\n    this.shoppingService.getUsers(cars).subscribe(data => {\r\n      for (let r of this.requests) {\r\n        if (this.keys.indexOf(data.adUserMap[r.adId]) == -1)\r\n          this.keys.push(data.adUserMap[r.adId]);\r\n        r.userId = data.adUserMap[r.adId];\r\n        if (!this.map.has(r.userId)) {\r\n          this.map.set(r.userId, []);\r\n        }\r\n\r\n        this.map.get(r.userId).push(r);\r\n      }\r\n    });\r\n    console.log(this.map);\r\n  }\r\n\r\n  onSubmit() {\r\n    let cart = {\r\n      requests: [],\r\n      bundles: []\r\n    }\r\n\r\n    for (let key of this.map.keys()) {\r\n      if (this.bundles.indexOf(key) != -1) {\r\n        cart.bundles.push(this.bundleIt(this.map.get(key)));\r\n      } else {\r\n        this.map.get(key).forEach(element => {\r\n          cart.requests.push(this.createRentRequest(element));\r\n        });\r\n      }\r\n    }\r\n    console.log(cart);\r\n    this.shoppingService.rentCars(cart).subscribe(() => {\r\n      alert(\"success\");\r\n    })\r\n    localStorage.removeItem(\"Cart\");\r\n    this.router.navigate([\"bill\"], { relativeTo: this.route.parent });\r\n  }\r\n\r\n  bundleIt(reqs: IRequest[]) {\r\n    let bundle: IBundle = {\r\n      requests: []\r\n    };\r\n    reqs.forEach(element => {\r\n      bundle.requests.push(this.createRentRequest(element));\r\n    });\r\n    return bundle;\r\n  }\r\n\r\n  createRentRequest(request: IRequest) {\r\n    let rentRequest: IRentRequest = {\r\n      adId: request.adId,\r\n      pickUpDate: request.pickUpDate,\r\n      pickUpPlace: request.pickUpPlace,\r\n      returnDate: request.returnDate\r\n    };\r\n    return rentRequest;\r\n  }\r\n\r\n  changeBundle(userId: number) {\r\n    if (this.bundles.indexOf(userId) == -1) {\r\n      this.bundles.push(userId);\r\n    } else {\r\n      this.bundles.splice(this.bundles.indexOf(userId));\r\n    }\r\n    console.log(this.bundles);\r\n  }\r\n\r\n  removeRequest(userId: number, req: IRequest) {\r\n    let toRemove = this.map.get(userId).indexOf(req);\r\n    this.map.get(userId).splice(toRemove, 1);\r\n    toRemove = this.requests.indexOf(req);\r\n    this.requests.splice(toRemove, 1);\r\n    localStorage.setItem(\"Cart\", JSON.stringify(this.requests));\r\n  }\r\n\r\n  customTB(index, item) {\r\n    return index;\r\n  }\r\n}\r\n","<div class=\"container\">\r\n   <div class=\"col justify-content-center\">\r\n      <div class=\"row\">\r\n         <h1 class=\"h1\">Shopping cart</h1>\r\n      </div>\r\n      <div class=\"row\">\r\n         <div class=\"col-8\">\r\n            <div class=\"card\" style=\"width: 38rem;\" *ngFor=\"let userId of keys\">\r\n               <div class=\"card-header\">User: {{ userId }}</div>\r\n               <ul class=\"list-group list-group-flush\">\r\n                  <li\r\n                     *ngFor=\"let req of map.get(userId)\"\r\n                     class=\"list-group-item\"\r\n                  >\r\n                     Ad: {{ req.adId }}, From date: {{ req.pickUpDate }}, To\r\n                     date: {{ req.returnDate }}, Price per day: {{ req.status }}\r\n                     <button\r\n                        type=\"button\"\r\n                        class=\"btn btn-danger btn-sm align-self-end\"\r\n                        (click)=\"removeRequest(userId, req)\"\r\n                     >\r\n                        Remove\r\n                     </button>\r\n                  </li>\r\n               </ul>\r\n               <div class=\"car-body\">\r\n                  <div *ngIf=\"bundles.indexOf(userId) == -1\">\r\n                     <label class=\"m-2\">Rent all as bundle?</label>\r\n                     <button\r\n                        type=\"button\"\r\n                        class=\"btn btn-secondary btn-sm m-2\"\r\n                        (click)=\"changeBundle(userId)\"\r\n                     >\r\n                        Bundle\r\n                     </button>\r\n                  </div>\r\n                  <div *ngIf=\"bundles.indexOf(userId) != -1\">\r\n                     <label class=\"m-2\"\r\n                        >You are renting these cars as bundle</label\r\n                     >\r\n                     <button\r\n                        type=\"button\"\r\n                        class=\"btn btn-secondary btn-sm m-2\"\r\n                        (click)=\"changeBundle(userId)\"\r\n                     >\r\n                        Unbundle\r\n                     </button>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n            <div>\r\n               <button\r\n                  *ngIf=\"requests != undefined\"\r\n                  type=\"submit\"\r\n                  class=\"btn btn-primary m-2\"\r\n                  (click)=\"onSubmit()\"\r\n               >\r\n                  Checkout\r\n               </button>\r\n            </div>\r\n         </div>\r\n      </div>\r\n   </div>\r\n</div>\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  api: 'http://localhost:8086'\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"]}